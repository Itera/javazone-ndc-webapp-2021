{"version":3,"sources":["features/config/Config.ts","features/logging/logger.ts","domain.ts","hooks/useMount.ts","features/firebase/FirebaseProvider.tsx","hooks/useDatabase.ts","pages/admin/index.tsx","features/game-screen/countdown/Count.tsx","features/game-screen/countdown/Countdown.tsx","pages/game/Countdown.tsx","utils/toTimeString.ts","hooks/useLeaderboard.ts","features/game-screen/completed/Highscore.tsx","features/game-screen/completed/Completed.tsx","pages/game/Finish.tsx","statics/svgs/Logo.svg","components/TimeDisplay.tsx","features/game-screen/ongoing/Ongoing.tsx","features/game-screen/ongoing/DigTheDigital.tsx","features/game-screen/ongoing/MakeADifference.tsx","features/game-screen/ongoing/AllDataIsBiased.tsx","features/game-screen/ongoing/PeoplePassionPurpose.tsx","features/game-screen/ongoing/HumanSolutions.tsx","features/game-screen/ongoing/ScrumIsYum.tsx","features/game-screen/ongoing/Quotes.tsx","pages/game/Game.tsx","pages/index.tsx","pages/remote/Information.tsx","hooks/useUnregistered.ts","pages/remote/Ongoing.tsx","components/Logo.tsx","statics/images/ticketmaster.jpg","pages/Profile.tsx","pages/auth/SignIn.tsx","hooks/useAuth.ts","hooks/useAsync.ts","pages/auth/SignUp.tsx","pages/admin/Stats.tsx","features/firebase/Unregistered.tsx","features/game-screen/explanation/Cube.tsx","statics/svgs/Kube1.svg","statics/svgs/Kube3.svg","statics/svgs/Kube2.svg","pages/remote/UserRegistration.tsx","statics/images/bricks.png","statics/videos/StandVideo.mp4","pages/game/VideoShow.tsx","pages/admin/Winner.tsx","routes/index.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["Config","config","getConfig","firebase","features","logging","apiKey","process","appId","authDomain","databaseURL","messagingSenderId","projectId","storageBucket","DatabasePath","Logger","name","level","this","logLevel","getFeatures","indexOf","message","console","trace","debug","info","warn","error","useMount","f","useEffect","firebaseContext","createContext","FirebaseProvider","children","useState","initializeApp","getFirebaseConfig","app","getAnalytics","analytics","getDatabase","db","getAuth","auth","a","currentUser","get","ref","snapshot","val","data","date","Date","today","getFullYear","getMonth","getDate","undefined","set","createdAt","now","onAuthStateChanged","user","init","Provider","value","useFirebase","context","useContext","Error","useDatabase","root","leaderboard","LEADERBOARD","daily","ENTRY","unregistered","UNREGISTERED","logger","Admin","setData","unsubscribe","onValue","exists","sorted","Object","keys","sort","b","localeCompare","style","padding","height","overflow","map","datapoint","to","Path","ADMIN","Count","props","duration","delay","number","rest","motion","div","transition","initial","translateX","animate","exit","zIndex","fontSize","DURATION","Countdown","AnimatePresence","className","DELAY","location","useLocation","navigate","useNavigate","timer","setTimeout","GAME","state","replace","clearTimeout","pad","length","toString","padStart","toTimeString","start","finish","time","minutes","getMinutes","seconds","getSeconds","milliseconds","getMilliseconds","slice","useLeaderboard","setLeaderboard","attachObserver","entries","finished","filter","entry","hasOwnProperty","elapsed","updateStandings","values","Highscore","withRecentRun","highlight","fastest","highlightRef","useRef","current","scrollIntoView","behavior","block","fontWeight","lineHeight","username","id","display","overflowY","maxHeight","scrollbarWidth","index","Completed","run","split","VIDEOSHOW","section","paddingLeft","marginTop","Finish","_path","_path2","_path3","_path4","_path5","TimeDisplay","column","setTick","interval","setInterval","prev","clearInterval","Ongoing","uid","update","FINISH","width","minWidth","justifyContent","color","marginBottom","DigTheDigital","textAlign","MakeADifference","AllDataIsBiased","PeoplePassionPurpose","HumanSolutions","ScrumIsYum","Quotes","setCurrent","quotes","max","Math","floor","random","maxWidth","_","quote","Game","position","top","left","Home","EXPLANATION","LOGIN","Information","find","ONGOING","verifyOngoingGame","USER_REGISTRATION","useUnregistered","unregisteredList","setUnregisteredList","ongoing","setOngoing","key","flexDirection","onClick","_extends","assign","target","i","arguments","source","prototype","call","apply","_objectWithoutProperties","excluded","sourceKeys","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgLogo","_ref","svgRef","title","titleId","viewBox","fill","xmlns","d","ForwardRef","Logo","Profile","src","PriceImage","alt","SignIn","email","setEmail","password","setPassword","signInWithEmailAndPassword","credentials","signIn","useAuth","loading","setLoading","result","setResult","setError","callback","useCallback","then","res","catch","err","finally","useAsync","onSubmit","event","preventDefault","type","placeholder","onChange","currentTarget","required","disabled","code","SignUp","setName","phone","setPhone","consent","setConsent","isLoading","setIsLoading","documentRef","child","remove","push","USER","textDecoration","right","htmlFor","checked","Stats","params","useParams","abandoned","setAbandoned","dailyRegistered","unsubscribeRegistered","dailyUnregistered","unsubscribeUnregistered","quickestEntry","slowestEntry","abandonedExist","extractedAbandoned","sortedAbandoned","fastestAbandoned","slowestAbandoned","String","Timer","Unregistered","REGISTRATION","backgroundColor","Cube","alignItems","marginLeft","letter","UserRegistration","setUsername","generatedKey","registrationTime","inputRef","focus","cubeOne","cubeTwo","cubeThree","spellCheck","letterSpacing","background","border","outline","VideoShow","topThree","COUNTDOWN","paddingTop","clipPath","bricks","float","transform","marginRight","autoPlay","loop","muted","standVideo","margin","fontFamily","frequency","flips","Winner","winner","setWinner","open","setOpen","getWinner","Router","path","HOME","element","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.9fa85af8.chunk.js","sourcesContent":["interface IConfig {\r\n  features: {\r\n    logging: 'trace' | 'debug' | 'info' | 'warn' | 'error';\r\n  };\r\n  firebase: Partial<{\r\n    apiKey: string;\r\n    appId: string;\r\n    authDomain: string;\r\n    databaseURL: string;\r\n    messagingSenderId: string;\r\n    projectId: string;\r\n    storageBucket: string;\r\n  }>;\r\n}\r\n\r\nexport class Config {\r\n  static config: IConfig = {\r\n    features: {\r\n      logging: 'trace',\r\n    },\r\n    firebase: {\r\n      apiKey: process.env.REACT_APP_FIREBASE_API_KEY,\r\n      appId: process.env.REACT_APP_FIREBASE_APP_ID,\r\n      authDomain: process.env.REACT_APP_FIREBASE_AUTH_DOMAIN,\r\n      databaseURL: process.env.REACT_APP_FIREBASE_DATABASE_URL,\r\n      messagingSenderId: process.env.REACT_APP_FIREBASE_MESSAGING_SENDER_ID,\r\n      projectId: process.env.REACT_APP_FIREBASE_PROJECT_ID,\r\n      storageBucket: process.env.REACT_APP_FIREBASE_STORAGE_BUCKET,\r\n    },\r\n  };\r\n\r\n  static getConfig() {\r\n    return Config.config;\r\n  }\r\n\r\n  static getFirebaseConfig() {\r\n    return Config.getConfig().firebase;\r\n  }\r\n\r\n  static getFeatures() {\r\n    return Config.getConfig().features;\r\n  }\r\n}\r\n","import { Config } from '../config/Config';\r\n\r\nexport class Logger {\r\n  private name: string;\r\n  private level: number;\r\n\r\n  constructor(name: string) {\r\n    this.name = name;\r\n    const logLevel = Config.getFeatures().logging;\r\n    this.level = ['trace', 'debug', 'info', 'warn', 'error'].indexOf(logLevel);\r\n  }\r\n\r\n  trace(...message: Array<any>) {\r\n    if (this.level === 0) {\r\n      console.trace(`[${this.name}]`, ...message);\r\n    }\r\n  }\r\n\r\n  debug(...message: Array<any>) {\r\n    if (this.level <= 1) {\r\n      console.debug(`[${this.name}]`, ...message);\r\n    }\r\n  }\r\n\r\n  info(...message: Array<any>) {\r\n    if (this.level <= 2) {\r\n      console.info(`[${this.name}]`, ...message);\r\n    }\r\n  }\r\n\r\n  warn(...message: Array<any>) {\r\n    if (this.level <= 3) {\r\n      console.warn(`[${this.name}]`, ...message);\r\n    }\r\n  }\r\n\r\n  error(...message: Array<any>) {\r\n    if (this.level <= 4) {\r\n      console.error(`[${this.name}]`, ...message);\r\n    }\r\n  }\r\n}\r\n","export interface User {\r\n  email: string;\r\n  username: string;\r\n  createAt: number;\r\n  uid: string;\r\n}\r\n\r\nexport interface Entry {\r\n  username: string;\r\n  start: number;\r\n  finish: number;\r\n  elapsed: number;\r\n\r\n  name: string;\r\n  email: string;\r\n  phone: string;\r\n  consent: boolean;\r\n}\r\n\r\nexport enum DatabasePath {\r\n  LEADERBOARD = \"/leaderboard\",\r\n  ENTRY = \"/entries\",\r\n  USERS = \"/users\",\r\n  UNREGISTERED = \"/unregistered\",\r\n}\r\n\r\nexport interface Leaderboard {\r\n  entries?: Record<string, Entry>;\r\n  createdAt: number;\r\n}\r\nexport interface DatabaseSchema {\r\n  users: Record<string, User>;\r\n  leaderboard: Record<string, Leaderboard>;\r\n}\r\n","import { EffectCallback, useEffect } from 'react';\r\n\r\nexport function useMount(f: EffectCallback) {\r\n  // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  useEffect(f, []);\r\n}\r\n","import { Analytics, getAnalytics } from 'firebase/analytics';\r\nimport { Auth, getAuth } from 'firebase/auth';\r\nimport { Database, get, ref } from 'firebase/database';\r\nimport { FirebaseApp, initializeApp } from 'firebase/app';\r\nimport { PropsWithChildren, createContext, useContext, useState } from 'react';\r\nimport { getDatabase, set } from 'firebase/database';\r\n\r\nimport { Config } from '../config/Config';\r\nimport { useMount } from '../../hooks/useMount';\r\n\r\ninterface FirebaseContext {\r\n  app: FirebaseApp;\r\n  analytics: Analytics;\r\n  auth: Auth;\r\n  db: Database;\r\n}\r\n\r\nconst firebaseContext = createContext<FirebaseContext | null>(null);\r\n\r\nexport function FirebaseProvider({ children }: PropsWithChildren<{}>) {\r\n  const [app] = useState(initializeApp(Config.getFirebaseConfig()));\r\n  const [analytics] = useState(getAnalytics(app));\r\n  const [db] = useState(getDatabase(app));\r\n  const [auth] = useState(getAuth(app));\r\n\r\n  async function init() {\r\n    if (auth.currentUser === null) {\r\n      return;\r\n    }\r\n\r\n    const snapshot = await get(ref(db, '/leaderboard'));\r\n    const data = await snapshot.val();\r\n\r\n    const date = new Date();\r\n    const today = `${date.getFullYear()}-${date.getMonth()}-${date.getDate()}`;\r\n\r\n    if (data === null || data[today] === undefined) {\r\n      try {\r\n        await set(ref(db, `leaderboard/${today}`), {\r\n          createdAt: Date.now(),\r\n        });\r\n      } catch (err) {\r\n        console.error(err);\r\n      }\r\n    }\r\n  }\r\n\r\n  useMount(() => {\r\n    auth.onAuthStateChanged((user) => {\r\n      if (user !== null) {\r\n        init();\r\n      }\r\n    });\r\n  });\r\n\r\n  return (\r\n    <firebaseContext.Provider\r\n      value={{\r\n        app,\r\n        analytics,\r\n        db,\r\n        auth,\r\n      }}\r\n    >\r\n      {children}\r\n    </firebaseContext.Provider>\r\n  );\r\n}\r\n\r\nexport function useFirebase() {\r\n  const context = useContext(firebaseContext);\r\n\r\n  if (context === null) {\r\n    throw new Error('Element must be wrapped by a FirebaseProvider');\r\n  }\r\n\r\n  return context;\r\n}\r\n","import { DatabasePath } from '../domain';\r\nimport { ref } from 'firebase/database';\r\nimport { useFirebase } from '../features/firebase/FirebaseProvider';\r\nimport { useState } from 'react';\r\n\r\nexport function useDatabase() {\r\n  const { db } = useFirebase();\r\n  const [today] = useState(() => {\r\n    const date = new Date();\r\n    return `${date.getFullYear()}-${date.getMonth()}-${date.getDate()}`;\r\n  });\r\n\r\n  return {\r\n    root: db,\r\n    leaderboard: ref(db, DatabasePath.LEADERBOARD),\r\n    daily: ref(\r\n      db,\r\n      `${DatabasePath.LEADERBOARD}/${today}/${DatabasePath.ENTRY}`,\r\n    ),\r\n    unregistered: ref(\r\n      db,\r\n      `${DatabasePath.UNREGISTERED}/${today}/${DatabasePath.ENTRY}`,\r\n    ),\r\n  };\r\n}\r\n","import { Link } from 'react-router-dom';\r\nimport { Logger } from '../../features/logging/logger';\r\nimport { Path } from '../../routes';\r\nimport { onValue } from 'firebase/database';\r\nimport { useDatabase } from '../../hooks/useDatabase';\r\nimport { useMount } from '../../hooks/useMount';\r\nimport { useState } from 'react';\r\n\r\nconst logger = new Logger('Admin');\r\n\r\nexport function Admin() {\r\n  const { leaderboard } = useDatabase();\r\n\r\n  const [data, setData] = useState<Array<string> | null>(null);\r\n\r\n  useMount(() => {\r\n    const unsubscribe = onValue(leaderboard, (snapshot) => {\r\n      if (!snapshot.exists()) {\r\n        logger.warn('leaderboard data is unreachable');\r\n        return;\r\n      }\r\n\r\n      const dates = Object.keys(snapshot.val());\r\n      const sorted = dates.sort((a, b) => b.localeCompare(a));\r\n      setData(sorted);\r\n    });\r\n\r\n    return () => {\r\n      unsubscribe();\r\n    };\r\n  });\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        padding: '24px 32px',\r\n        height: '100vh',\r\n        overflow: 'auto',\r\n      }}\r\n    >\r\n      <h1>Hent informasjon for en gitt dag</h1>\r\n      <ul>\r\n        {data?.map((datapoint) => (\r\n          <li key={datapoint}>\r\n            <Link to={`${Path.ADMIN}/${datapoint}`}>{datapoint}</Link>\r\n          </li>\r\n        ))}\r\n      </ul>\r\n    </div>\r\n  );\r\n}\r\n","import { motion, MotionProps } from \"framer-motion\";\r\nimport { PropsWithChildren } from \"react\";\r\n\r\ninterface Props extends MotionProps {\r\n  readonly duration: number;\r\n  readonly delay: number;\r\n  readonly number: number;\r\n  readonly className: string;\r\n}\r\n\r\nexport function Count(props: PropsWithChildren<Props>) {\r\n  const { duration, delay, number, ...rest } = props;\r\n\r\n  return (\r\n    <motion.div\r\n      {...rest}\r\n      transition={{ duration, delay }}\r\n      initial={{ translateX: \"100vw\" }}\r\n      animate={{ translateX: \"0vw\" }}\r\n      exit={{ translateX: \"-100vw\" }}\r\n      style={{\r\n        zIndex: -number,\r\n      }}\r\n    >\r\n      <h1 style={{ fontSize: \"25rem\" }}>{number}</h1>\r\n    </motion.div>\r\n  );\r\n}\r\n","import { AnimatePresence } from \"framer-motion\";\r\nimport { Count } from \"./Count\";\r\n\r\nconst DURATION = 0.25;\r\nconst DELAY = 1;\r\n\r\nexport function Countdown() {\r\n  return (\r\n    <AnimatePresence>\r\n      <Count\r\n        key=\"count-3\"\r\n        delay={0}\r\n        duration={DURATION}\r\n        number={3}\r\n        className=\"bg-gold color-lobster fill-screen center-content absolute\"\r\n      />\r\n      <Count\r\n        key=\"count-2\"\r\n        delay={DELAY}\r\n        duration={DURATION}\r\n        number={2}\r\n        className=\"bg-jade color-sea fill-screen center-content absolute\"\r\n      />\r\n      <Count\r\n        key=\"count-1\"\r\n        delay={DELAY * 2}\r\n        duration={DURATION}\r\n        number={1}\r\n        className=\"bg-fuschia color-gold fill-screen center-content absolute\"\r\n      />\r\n    </AnimatePresence>\r\n  );\r\n}\r\n","import { useLocation, useNavigate } from 'react-router';\r\n\r\nimport { Countdown as InternalCountdown } from '../../features/game-screen/countdown/Countdown';\r\nimport { Path } from '../../routes';\r\nimport { useMount } from '../../hooks/useMount';\r\n\r\nexport function Countdown() {\r\n  const location = useLocation();\r\n  const navigate = useNavigate();\r\n\r\n  useMount(() => {\r\n    const timer = setTimeout(() => {\r\n      navigate(Path.GAME, {\r\n        state: location.state,\r\n        replace: true,\r\n      });\r\n    }, 3000);\r\n\r\n    return () => {\r\n      clearTimeout(timer);\r\n    };\r\n  });\r\n\r\n  return <InternalCountdown />;\r\n}\r\n","function pad(value: number, length: number): string {\r\n  return value.toString().padStart(length, '000');\r\n}\r\n\r\nexport function toTimeString(start: number, finish: number): string {\r\n  const elapsed = finish - start;\r\n  const time = new Date(elapsed);\r\n\r\n  const minutes = pad(time.getMinutes(), 2);\r\n  const seconds = pad(time.getSeconds(), 2);\r\n  const milliseconds = pad(time.getMilliseconds(), 3).slice(0, 2);\r\n\r\n  return `${minutes}:${seconds}:${milliseconds}`;\r\n}\r\n","import { Entry } from '../domain';\r\nimport { Logger } from '../features/logging/logger';\r\nimport { onValue } from 'firebase/database';\r\nimport { useDatabase } from './useDatabase';\r\nimport { useMount } from './useMount';\r\nimport { useState } from 'react';\r\n\r\nexport function useLeaderboard(): Array<Entry> {\r\n  const [logger] = useState(new Logger('useLeaderboard'));\r\n  const { daily } = useDatabase();\r\n  const [leaderboard, setLeaderboard] = useState<Array<Entry>>([]);\r\n\r\n  function updateStandings(entries: Array<Entry>) {\r\n    logger.trace('Updating leaderboard');\r\n\r\n    const finished = entries.filter((entry) =>\r\n      entry.hasOwnProperty('finish'),\r\n    ) as Array<Required<Entry>>;\r\n\r\n    logger.debug('Found', `[finished=${finished.length}]`, 'finished entries');\r\n    setLeaderboard(() => finished.sort((a, b) => a.elapsed - b.elapsed));\r\n  }\r\n\r\n  function attachObserver() {\r\n    logger.trace(\r\n      'Attaching listener to leaderboard document',\r\n      daily.toString(),\r\n    );\r\n    const unsubscribe = onValue(daily, (snapshot) => {\r\n      if (!snapshot.exists()) {\r\n        logger.warn('Found no data on', `[src=${daily.toString()}]`);\r\n        return;\r\n      }\r\n\r\n      const data = snapshot.val() as Record<string, Entry>;\r\n      const entries = Object.values(data);\r\n      updateStandings(entries);\r\n    });\r\n\r\n    return unsubscribe;\r\n  }\r\n\r\n  useMount(() => {\r\n    const unsubscribe = attachObserver();\r\n\r\n    return () => {\r\n      unsubscribe();\r\n    };\r\n  });\r\n\r\n  return leaderboard;\r\n}\r\n","import { Entry } from '../../../domain';\r\nimport { toTimeString } from '../../../utils/toTimeString';\r\nimport { useLeaderboard } from '../../../hooks/useLeaderboard';\r\nimport { useEffect, useRef } from 'react';\r\n\r\ninterface Props {\r\n  readonly entry: Entry;\r\n}\r\n\r\ninterface HighlightedEntry extends Entry {\r\n  highlight?: boolean;\r\n}\r\n\r\nexport function Highscore(props: Props): JSX.Element {\r\n  const { entry } = props;\r\n  const leaderboard = useLeaderboard();\r\n\r\n  const withRecentRun: Array<HighlightedEntry> = [\r\n    ...leaderboard.filter((value) => value.start !== entry.start),\r\n    { ...entry, highlight: true },\r\n  ].sort((a, b) => a.elapsed - b.elapsed);\r\n  const fastest = withRecentRun[0];\r\n\r\n  const highlightRef = useRef<HTMLTableRowElement>(null);\r\n\r\n  useEffect(()=>{\r\n    setTimeout(()=>{\r\n      highlightRef.current?.scrollIntoView({ behavior: \"smooth\", block: \"center\" });\r\n    }, 5000)\r\n  })\r\n\r\n  return (\r\n    <div\r\n      className=\"font-family-neue-machina\"\r\n      style={{ fontWeight: 700, fontSize: '3rem', lineHeight: '4rem' }}\r\n    >\r\n      <table>\r\n        <tbody>\r\n          <tr data-highlight={fastest.highlight}>\r\n            <td>1.</td>\r\n            <td>{fastest.username}</td>\r\n            <td>{toTimeString(fastest.start, fastest.finish)}</td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n      <table id=\"scrollable-table\">\r\n        <tbody\r\n          style={{\r\n            display: 'block',\r\n            overflowY: 'scroll',\r\n            maxHeight: '17rem',\r\n            scrollbarWidth: 'none',\r\n          }}\r\n        >\r\n          {withRecentRun.slice(1).map((entry, index) => (\r\n            <tr key={entry.start} data-highlight={entry.highlight} ref={entry.highlight ? highlightRef : null}>\r\n              <td>{index + 2}.</td>\r\n              <td>{entry.username}</td>\r\n              <td>{toTimeString(entry.start, entry.finish)}</td>\r\n            </tr>\r\n          ))}\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n}\r\n","import { useLocation, useNavigate } from 'react-router';\r\n\r\nimport { Entry } from '../../../domain';\r\nimport { Highscore } from './Highscore';\r\nimport { Path } from '../../../routes';\r\nimport { motion } from 'framer-motion';\r\nimport { toTimeString } from '../../../utils/toTimeString';\r\nimport { useMount } from '../../../hooks/useMount';\r\n\r\nexport function Completed() {\r\n  const navigate = useNavigate();\r\n  const location = useLocation();\r\n  const run = location.state as Entry;\r\n  const elapsed = toTimeString(run.start, run.finish);\r\n  const [minutes, seconds, milliseconds] = elapsed.split(':');\r\n\r\n  useMount(() => {\r\n    const timer = setTimeout(() => {\r\n      navigate(Path.VIDEOSHOW, { replace: true });\r\n    }, 20000);\r\n\r\n    return () => {\r\n      clearTimeout(timer);\r\n    };\r\n  });\r\n\r\n  return (\r\n    <div className=\"bg-ivory fill-screen\">\r\n      <motion.section\r\n        className=\"color-sea center-content\"\r\n        style={{ height: '100vh' }}\r\n        animate={{ height: '40vh' }}\r\n        transition={{ duration: 2, delay: 3 }}\r\n      >\r\n        <p className=\"font-family-neue-machina\" style={{ fontWeight: 'bold' }}>\r\n          <span style={{ fontSize: 160 }}>{minutes}</span>\r\n          <span style={{ fontSize: 160 }}>:{seconds}</span>\r\n          <span style={{ fontSize: 96 }}>:{milliseconds}</span>\r\n        </p>\r\n      </motion.section>\r\n      <motion.section\r\n        style={{ height: '0vh' }}\r\n        animate={{ height: '60vh' }}\r\n        transition={{ duration: 2, delay: 3 }}\r\n      >\r\n        <div className=\"row equal-width\" style={{ padding: '2rem 3rem' }}>\r\n          <Highscore entry={run} />\r\n          <div style={{ paddingLeft: '4rem' }}>\r\n            <p style={{ fontSize: '4rem', lineHeight: '5rem', marginTop: 0 }}>\r\n              Register on the iPad to enter the draft to win a giftcard from\r\n              Ticketmaster!\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </motion.section>\r\n    </div>\r\n  );\r\n}\r\n","import { Completed } from \"../../features/game-screen/completed\";\r\n\r\nexport function Finish() {\r\n  return <Completed />;\r\n}\r\n","var _path, _path2, _path3, _path4, _path5;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgLogo(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 2228,\n    height: 488,\n    viewBox: \"0 0 2228 488\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M121.74 170.644H202.435V317.356H121.74V366.259H341.682V317.356H261.037V170.644H341.682V121.74H121.74V170.644Z\",\n    fill: \"black\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M556.736 170.644H643.491V366.259H704.587V170.644H791.342V121.74H556.736V170.644Z\",\n    fill: \"black\"\n  })), _path3 || (_path3 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M1451.17 366.259H1512.27V280.678H1617.35V366.259H1678.79L1678.44 268.452H1643.35C1657.98 259.342 1669.25 245.712 1675.44 229.625C1681.64 213.538 1682.43 195.869 1677.7 179.292C1672.97 162.714 1662.97 148.13 1649.21 137.746C1635.46 127.362 1618.7 121.744 1601.47 121.74H1451.17V366.259ZM1589.39 231.383L1512.27 231.774V170.644H1589.39C1593.38 170.644 1597.33 171.43 1601.02 172.958C1604.7 174.485 1608.05 176.724 1610.87 179.546C1613.69 182.369 1615.93 185.719 1617.46 189.407C1618.98 193.094 1619.77 197.046 1619.77 201.038C1619.77 205.029 1618.98 208.981 1617.46 212.669C1615.93 216.357 1613.69 219.707 1610.87 222.529C1608.05 225.352 1604.7 227.591 1601.02 229.118C1597.33 230.645 1593.38 231.432 1589.39 231.432V231.383Z\",\n    fill: \"black\"\n  })), _path4 || (_path4 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M1228.78 317.356H1065.2V268.452H1197.21V219.548H1065.2V170.644H1228.59V121.74H1003.95V170.644H1004.15V366.259H1065.2H1228.78V317.356Z\",\n    fill: \"black\"\n  })), _path5 || (_path5 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M2042.57 121.74H1925.27L1861.73 366.259H1917.94L1938.27 288.013H2029.57L2049.9 366.259H2106.11L2042.57 121.74ZM1950.98 239.109L1973.85 151.083H1993.99L2016.86 239.109H1950.98Z\",\n    fill: \"black\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgLogo);\nexport default __webpack_public_path__ + \"static/media/Logo.15c766bf.svg\";\nexport { ForwardRef as ReactComponent };","import { useEffect, useState } from 'react';\r\n\r\nimport { toTimeString } from '../utils/toTimeString';\r\n\r\ninterface Props {\r\n  start: number | null;\r\n  column?: boolean;\r\n}\r\n\r\nexport function TimeDisplay(props: Props): JSX.Element | null {\r\n  const { start, column = false } = props;\r\n  const [, setTick] = useState(0);\r\n\r\n  useEffect(() => {\r\n    if (start === null) {\r\n      return;\r\n    }\r\n\r\n    const interval = setInterval(() => {\r\n      setTick((prev) => prev + 1);\r\n    }, 50);\r\n\r\n    return () => {\r\n      clearInterval(interval);\r\n    };\r\n  }, [start, setTick]);\r\n\r\n  if (start === null) {\r\n    return null;\r\n  }\r\n\r\n  const time = toTimeString(start, Date.now());\r\n\r\n  const [minutes, seconds, milliseconds] = time.split(':');\r\n\r\n  return (\r\n    <p\r\n      className={`center font-family-neue-machina ${column ? 'column' : 'row'}`}\r\n      style={{ fontSize: '8rem' }}\r\n    >\r\n      <span>{minutes}:</span>\r\n      <span>{seconds}:</span>\r\n      <span>{milliseconds}</span>\r\n    </p>\r\n  );\r\n}\r\n","import { onValue, update } from 'firebase/database';\r\nimport { useLocation, useNavigate } from 'react-router';\r\n\r\nimport { Path } from '../../../routes';\r\nimport { TimeDisplay } from '../../../components/TimeDisplay';\r\nimport { toTimeString } from '../../../utils/toTimeString';\r\nimport { useDatabase } from '../../../hooks/useDatabase';\r\nimport { useLeaderboard } from '../../../hooks/useLeaderboard';\r\nimport { useMount } from '../../../hooks/useMount';\r\nimport { useState } from 'react';\r\n\r\nexport function Ongoing() {\r\n  const location = useLocation();\r\n  const navigate = useNavigate();\r\n  const leaderboard = useLeaderboard();\r\n\r\n  const [start] = useState(Date.now());\r\n\r\n  const fastest = leaderboard[0];\r\n\r\n  const { unregistered } = useDatabase();\r\n\r\n  useMount(() => {\r\n    const uid = location.state.uid;\r\n\r\n    const unsubscribe = onValue(unregistered, (snapshot) => {\r\n      if (snapshot.exists()) {\r\n        const values = snapshot.val();\r\n        const run = values[uid];\r\n\r\n        if (typeof run === 'undefined') {\r\n          return;\r\n        }\r\n\r\n        if (\r\n          typeof run.finish === 'undefined' &&\r\n          typeof run.start === 'undefined'\r\n        ) {\r\n          update(unregistered, {\r\n            [uid]: {\r\n              ...run,\r\n              start: start,\r\n            },\r\n          });\r\n        }\r\n\r\n        if (typeof run.finish !== 'undefined') {\r\n          navigate(Path.FINISH, {\r\n            state: {\r\n              ...run,\r\n              start: start,\r\n              elapsed: run.finish - start,\r\n            },\r\n            replace: true,\r\n          });\r\n        }\r\n      }\r\n    });\r\n\r\n    return () => {\r\n      unsubscribe();\r\n    };\r\n  });\r\n\r\n  return (\r\n    <div\r\n      className=\"column center-content bg-ivory fill-vh\"\r\n      style={{\r\n        width: '25vw',\r\n        minWidth: 480,\r\n        justifyContent: 'space-between',\r\n      }}\r\n    >\r\n      <section\r\n        className=\"center font-family-neue-machina\"\r\n        style={{ color: '#606060', marginTop: '4rem' }}\r\n      >\r\n        <h2 style={{ fontSize: '3rem', marginTop: 0, marginBottom: '1rem' }}>\r\n          Highscore\r\n        </h2>\r\n        {fastest && (\r\n          <p style={{ fontSize: '4.5rem', marginTop: '0rem' }}>\r\n            {toTimeString(fastest.start, fastest.finish)}\r\n          </p>\r\n        )}\r\n        {!fastest && <p>Pending...</p>}\r\n      </section>\r\n      <TimeDisplay start={start} column />\r\n      <div style={{ height: '15%' }}></div>\r\n    </div>\r\n  );\r\n}\r\n","export function DigTheDigital() {\r\n  return (\r\n    <div className=\"fill-space bg-jade_grid center-content\">\r\n      <h1\r\n        style={{\r\n          fontSize: \"18rem\",\r\n          lineHeight: \"20rem\",\r\n          fontWeight: 700,\r\n          textAlign: \"center\",\r\n        }}\r\n      >\r\n        Dig the digital\r\n      </h1>\r\n    </div>\r\n  );\r\n}\r\n","export function MakeADifference() {\r\n  return (\r\n    <div className=\"fill-space bg-fuschia_grid center-content\">\r\n      <h1\r\n        className=\"font-family-feeling-passionate\"\r\n        style={{\r\n          fontSize: \"15rem\",\r\n          lineHeight: \"20rem\",\r\n          textAlign: \"center\",\r\n        }}\r\n      >\r\n        Make a difference\r\n      </h1>\r\n    </div>\r\n  );\r\n}\r\n","export function AllDataIsBiased() {\r\n  return (\r\n    <div className=\"fill-space bg-sea_grid center-content\">\r\n      <h1\r\n        style={{\r\n          fontSize: \"15rem\",\r\n          lineHeight: \"15rem\",\r\n          fontWeight: 700,\r\n          textAlign: \"center\",\r\n        }}\r\n      >\r\n        All data\r\n        <br />\r\n        is biased\r\n      </h1>\r\n    </div>\r\n  );\r\n}\r\n","export function PeoplePassionPurpose() {\r\n  return (\r\n    <div className=\"fill-space bg-gold_grid center-content\">\r\n      <h1\r\n        className=\"font-family-ibm-plex-sans\"\r\n        style={{\r\n          fontSize: \"15rem\",\r\n          lineHeight: \"15rem\",\r\n          fontWeight: 700,\r\n          textAlign: \"left\",\r\n        }}\r\n      >\r\n        People.\r\n        <br />\r\n        Passion.\r\n        <br />\r\n        Purpose.\r\n        <br />\r\n      </h1>\r\n    </div>\r\n  );\r\n}\r\n","export function HumanSolutions() {\r\n  return (\r\n    <div className=\"fill-space bg-lobster_grid center-content\">\r\n      <h1\r\n        style={{\r\n          fontSize: \"8rem\",\r\n          lineHeight: \"10rem\",\r\n          fontWeight: 700,\r\n          textAlign: \"center\",\r\n        }}\r\n      >\r\n        We find the <br />\r\n        human solutions\r\n        <br />\r\n        to complex\r\n        <br />\r\n        challenges\r\n      </h1>\r\n    </div>\r\n  );\r\n}\r\n","export function ScrumIsYum() {\r\n  return (\r\n    <div className=\"fill-space bg-ivory_grid center-content\">\r\n      <h1\r\n        style={{\r\n          fontSize: \"20rem\",\r\n          lineHeight: \"25rem\",\r\n          fontWeight: 700,\r\n          textAlign: \"center\",\r\n        }}\r\n      >\r\n        Scrum\r\n        <br />\r\n        is Yum\r\n      </h1>\r\n    </div>\r\n  );\r\n}\r\n","import { DigTheDigital } from \"./DigTheDigital\";\r\nimport { MakeADifference } from \"./MakeADifference\";\r\nimport { AllDataIsBiased } from \"./AllDataIsBiased\";\r\nimport { PeoplePassionPurpose } from \"./PeoplePassionPurpose\";\r\nimport { HumanSolutions } from \"./HumanSolutions\";\r\nimport { ScrumIsYum } from \"./ScrumIsYum\";\r\nimport { Fragment, useState } from \"react\";\r\nimport { useMount } from \"../../../hooks/useMount\";\r\n\r\nfunction getRandomInt(max: number): number {\r\n  return Math.floor(Math.random() * max);\r\n}\r\n\r\nexport function Quotes() {\r\n  const [current, setCurrent] = useState(0);\r\n\r\n  const quotes = [\r\n    <DigTheDigital />,\r\n    <MakeADifference />,\r\n    <AllDataIsBiased />,\r\n    <PeoplePassionPurpose />,\r\n    <HumanSolutions />,\r\n    <ScrumIsYum />,\r\n  ];\r\n\r\n  useMount(() => {\r\n    setCurrent(() => getRandomInt(quotes.length));\r\n  });\r\n\r\n  return (\r\n    <div style={{ maxWidth: \"75vw\", width: \"100%\" }}>\r\n      {quotes\r\n        .filter((_, index) => index === current)\r\n        .map((quote, index) => (\r\n          <Fragment key={index}>{quote}</Fragment>\r\n        ))}\r\n    </div>\r\n  );\r\n}\r\n","import { AnimatePresence, motion } from \"framer-motion\";\r\nimport { Ongoing, Quotes } from \"../../features/game-screen/ongoing\";\r\n\r\nexport function Game() {\r\n  return (\r\n    <div>\r\n      <AnimatePresence>\r\n        <motion.div\r\n          className=\"bg-lobster color-gold fill-screen center-content\"\r\n          style={{\r\n            position: \"fixed\",\r\n            top: 0,\r\n            left: 0,\r\n          }}\r\n          initial={{\r\n            top: 0,\r\n            left: 0,\r\n          }}\r\n          animate={{\r\n            left: \"200vw\",\r\n          }}\r\n          transition={{ delay: 1, duration: 0.25 }}\r\n        >\r\n          <h1 style={{ fontSize: \"25rem\", fontWeight: 700 }}>Build!</h1>\r\n        </motion.div>\r\n      </AnimatePresence>\r\n      <div className=\"row fill-screen\">\r\n        <Quotes />\r\n        <Ongoing />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import { Link } from 'react-router-dom';\r\nimport { Path } from '../routes';\r\n\r\nexport function Home() {\r\n  return (\r\n    <>\r\n      <h1>Navigation links</h1>\r\n      <ul>\r\n        <li>\r\n          <Link to={Path.VIDEOSHOW}>Game</Link>\r\n        </li>\r\n        <li>\r\n          <Link to={Path.EXPLANATION}>Remote</Link>\r\n        </li>\r\n        <li>\r\n          <Link to={Path.UNREGISTERED}>Registration</Link>\r\n        </li>\r\n        <li>\r\n          <Link to={Path.ADMIN}>Admin</Link>\r\n        </li>\r\n        <li>\r\n          <Link to={Path.LOGIN}>Sign In</Link>\r\n        </li>\r\n      </ul>\r\n    </>\r\n  );\r\n}\r\n","import { Link, useNavigate } from 'react-router-dom';\r\n\r\nimport { Entry } from '../../domain';\r\nimport { Path } from '../../routes';\r\nimport { get } from 'firebase/database';\r\nimport { useDatabase } from '../../hooks/useDatabase';\r\nimport { useMount } from '../../hooks/useMount';\r\n\r\nexport function Information(): JSX.Element {\r\n  const navigate = useNavigate();\r\n  const { unregistered } = useDatabase();\r\n\r\n  async function verifyOngoingGame() {\r\n    const snapshot = await get(unregistered);\r\n\r\n    if (snapshot.exists()) {\r\n      const data = snapshot.val();\r\n      const entries = Object.entries(data) as Array<[string, Entry]>;\r\n      const ongoing = entries.find(\r\n        ([_, entry]) => typeof entry.finish === 'undefined',\r\n      );\r\n\r\n      if (typeof ongoing !== 'undefined') {\r\n        navigate(Path.ONGOING);\r\n      }\r\n    }\r\n  }\r\n\r\n  useMount(() => {\r\n    verifyOngoingGame();\r\n  });\r\n\r\n  return (\r\n    <div style={{ padding: '24px 32px', height: '100vh', overflow: 'auto' }}>\r\n      <h1>Build Itera with us!</h1>\r\n      <p style={{ fontSize: 45, lineHeight: 1.5 }}>\r\n        Use the cubes on the ground to build the image that pops up on this\r\n        screen.\r\n      </p>\r\n      <p style={{ fontSize: 45, lineHeight: 1.5 }}>\r\n        Touch \"DONE\" when you are finished to stop the timer.\r\n      </p>\r\n      <Link to={Path.USER_REGISTRATION} className=\"button\">\r\n        PLAY GAME\r\n      </Link>\r\n    </div>\r\n  );\r\n}\r\n","import { Entry } from '../domain';\r\nimport { Logger } from '../features/logging/logger';\r\nimport { onValue } from 'firebase/database';\r\nimport { useDatabase } from './useDatabase';\r\nimport { useMount } from './useMount';\r\nimport { useState } from 'react';\r\n\r\nexport interface UnregisteredEntry extends Entry {\r\n  uid: string;\r\n}\r\n\r\nexport function useUnregistered() {\r\n  const [logger] = useState(new Logger('useUnregistered'));\r\n  const { unregistered } = useDatabase();\r\n  const [unregisteredList, setUnregisteredList] = useState<\r\n    Array<UnregisteredEntry>\r\n  >([]);\r\n  const [ongoing, setOngoing] = useState<Array<UnregisteredEntry>>([]);\r\n\r\n  function attachObserver() {\r\n    logger.trace(\r\n      'Attaching listener to unregistered document',\r\n      unregistered.toString(),\r\n    );\r\n    const unsubscribe = onValue(unregistered, (snapshot) => {\r\n      if (!snapshot.exists()) {\r\n        logger.warn('Found no data on', `[src=${unregistered.toString()}]`);\r\n        return;\r\n      }\r\n\r\n      const data = snapshot.val();\r\n      const entries = Object.entries(data).map(\r\n        ([key, entry]): UnregisteredEntry => ({\r\n          uid: key,\r\n          ...(entry as Entry),\r\n        }),\r\n      );\r\n\r\n      const ongoing = entries.filter((entry) => entry.finish === undefined);\r\n      const finished = entries.filter((entry) => entry.finish !== undefined);\r\n\r\n      logger.info(\r\n        'found',\r\n        `[ongoing=${ongoing.length}]`,\r\n        'and',\r\n        `[finished=${finished.length}]`,\r\n      );\r\n\r\n      setUnregisteredList(() => finished);\r\n      setOngoing(() => ongoing);\r\n    });\r\n\r\n    return unsubscribe;\r\n  }\r\n\r\n  useMount(() => {\r\n    const unsubscribe = attachObserver();\r\n\r\n    return () => {\r\n      unsubscribe();\r\n    };\r\n  });\r\n\r\n  return {\r\n    unregistered: unregisteredList,\r\n    ongoing,\r\n  };\r\n}\r\n","import { Logger } from '../../features/logging/logger';\r\nimport { Path } from '../../routes';\r\nimport { TimeDisplay } from '../../components/TimeDisplay';\r\nimport { update } from 'firebase/database';\r\nimport { useDatabase } from '../../hooks/useDatabase';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { useState } from 'react';\r\nimport { useUnregistered } from '../../hooks/useUnregistered';\r\n\r\nexport function Ongoing(): JSX.Element {\r\n  const [logger] = useState(new Logger('Ongoing'));\r\n  const navigate = useNavigate();\r\n\r\n  const { ongoing } = useUnregistered();\r\n  const { unregistered } = useDatabase();\r\n\r\n  async function clickHandler() {\r\n    const { uid, username, start } = ongoing[0];\r\n    logger.debug(`Ending run for [uid=${uid}`);\r\n\r\n    const now = Date.now();\r\n\r\n    await update(unregistered, {\r\n      [uid]: {\r\n        start,\r\n        username,\r\n        finish: now,\r\n        elapsed: now - start,\r\n      },\r\n    });\r\n\r\n    navigate(Path.EXPLANATION);\r\n  }\r\n\r\n  const current = ongoing[0];\r\n\r\n  if (typeof current === 'undefined' || typeof current.start === 'undefined') {\r\n    return (\r\n      <div\r\n        className=\"center-content\"\r\n        style={{\r\n          justifyContent: 'center',\r\n          height: '100vh',\r\n          flexDirection: 'column',\r\n        }}\r\n      >\r\n        <h1>Get Ready!</h1>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div\r\n      className=\"center-content\"\r\n      style={{\r\n        justifyContent: 'center',\r\n        height: '100vh',\r\n        flexDirection: 'column',\r\n      }}\r\n    >\r\n      <TimeDisplay start={current.start} />\r\n      <button\r\n        style={{\r\n          fontSize: 150,\r\n        }}\r\n        onClick={clickHandler}\r\n      >\r\n        Done\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n","import { ReactComponent } from \"../statics/svgs/Logo.svg\";\r\n\r\nexport function Logo() {\r\n  return (\r\n    <ReactComponent\r\n      style={{ position: \"fixed\", top: \"2rem\", left: \"1rem\" }}\r\n      width=\"10rem\"\r\n      height=\"20px\"\r\n    />\r\n  );\r\n}\r\n","export default __webpack_public_path__ + \"static/media/ticketmaster.9085f16e.jpg\";","import { Link } from 'react-router-dom';\r\nimport { Logo } from '../components/Logo';\r\nimport { Path } from '../routes';\r\nimport PriceImage from '../statics/images/ticketmaster.jpg';\r\n\r\nexport function Profile() {\r\n  return (\r\n    <div\r\n      style={{\r\n        padding: '2rem 3rem',\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n      }}\r\n    >\r\n      <Logo />\r\n      <h1\r\n        style={{\r\n          fontSize: '5.25rem',\r\n          lineHeight: '5rem',\r\n          color: 'rgb(0, 41, 255)',\r\n        }}\r\n      >\r\n        Your score is registered!\r\n      </h1>\r\n      <p\r\n        style={{\r\n          fontSize: '1.75rem',\r\n          lineHeight: '3rem',\r\n        }}\r\n      >\r\n        We will contact the winner after the conference.\r\n      </p>\r\n      <img\r\n        src={PriceImage}\r\n        style={{ width: '100%', maxWidth: '1000px', marginBottom: '32px' }}\r\n        alt=\"\"\r\n      />\r\n      <Link\r\n        to={Path.UNREGISTERED}\r\n        className=\"button\"\r\n        style={{ width: 'fit-content' }}\r\n      >\r\n        Back to the list\r\n      </Link>\r\n    </div>\r\n  );\r\n}\r\n","import { FormEvent, useEffect, useState } from \"react\";\r\n\r\nimport { FirebaseError } from \"@firebase/util\";\r\nimport { Path } from \"../../routes\";\r\nimport { useAsync } from \"../../hooks/useAsync\";\r\nimport { useAuth } from \"../../hooks/useAuth\";\r\nimport { useNavigate } from \"react-router\";\r\n\r\nexport function SignIn() {\r\n  const navigate = useNavigate();\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n\r\n  const { signIn } = useAuth();\r\n  const { callback, loading, error, result } = useAsync(signIn);\r\n\r\n  function submitHandler(event: FormEvent) {\r\n    event.preventDefault();\r\n    callback(email, password);\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (result !== null) {\r\n      navigate(Path.VIDEOSHOW, { replace: true });\r\n    }\r\n  }, [navigate, result]);\r\n\r\n  return (\r\n    <>\r\n      <h1>Login</h1>\r\n      <form onSubmit={submitHandler}>\r\n        <input\r\n          type=\"email\"\r\n          placeholder=\"email\"\r\n          value={email}\r\n          onChange={(event) => setEmail(event.currentTarget.value)}\r\n          required\r\n        />\r\n        <input\r\n          type=\"password\"\r\n          placeholder=\"password\"\r\n          value={password}\r\n          onChange={(event) => setPassword(event.currentTarget.value)}\r\n          required\r\n        />\r\n        <button type=\"submit\" disabled={loading}>\r\n          Sign In\r\n        </button>\r\n\r\n        {error !== null && <p>{(error as FirebaseError).code}</p>}\r\n      </form>\r\n    </>\r\n  );\r\n}\r\n","import { User, signInWithEmailAndPassword } from 'firebase/auth';\r\n\r\nimport { Logger } from '../features/logging/logger';\r\nimport { useFirebase } from '../features/firebase/FirebaseProvider';\r\nimport { useState } from 'react';\r\n\r\nexport function useAuth() {\r\n  const [logger] = useState(new Logger('useAuth'));\r\n  const { auth } = useFirebase();\r\n\r\n  async function signIn(email: string, password: string): Promise<User> {\r\n    logger.trace('Signing in user');\r\n    const credentials = await signInWithEmailAndPassword(auth, email, password);\r\n\r\n    logger.info('Signed in user', `[uid=${credentials.user.uid}]`);\r\n    return credentials.user;\r\n  }\r\n\r\n  return {\r\n    signIn,\r\n  };\r\n}\r\n","import { useCallback, useState } from 'react';\r\nimport { Logger } from '../features/logging/logger';\r\n\r\nexport function useAsync(f: (...args: any[]) => Promise<unknown>) {\r\n  const [logger] = useState(new Logger('useAsync'));\r\n  const [loading, setLoading] = useState(false);\r\n  const [result, setResult] = useState<unknown | null>(null);\r\n  const [error, setError] = useState<unknown | null>(null);\r\n\r\n  const callback = useCallback(\r\n    (...args: any[]): Promise<unknown> => {\r\n      logger.trace('Async callback invoked');\r\n      setLoading(() => true);\r\n      setError(() => null);\r\n\r\n      return f(...args)\r\n        .then((res) => {\r\n          logger.debug('Successfully invoked async callback');\r\n          setResult(res);\r\n        })\r\n        .catch((err) => {\r\n          logger.error(\r\n            'Encountered an error while executing async callback',\r\n            err\r\n          );\r\n          setError(err);\r\n        })\r\n        .finally(() => {\r\n          logger.debug('Setting loading flag to \"false\"');\r\n          setLoading(() => false);\r\n        });\r\n    },\r\n    [f, logger]\r\n  );\r\n\r\n  return {\r\n    callback,\r\n    loading,\r\n    error,\r\n    result,\r\n  };\r\n}\r\n","import { child, remove } from 'firebase/database';\r\nimport { useLocation, useNavigate } from 'react-router';\r\n\r\nimport { FirebaseError } from '@firebase/util';\r\nimport { Link } from 'react-router-dom';\r\nimport { Logo } from '../../components/Logo';\r\nimport { Path } from '../../routes';\r\nimport { UnregisteredEntry } from '../../hooks/useUnregistered';\r\nimport { push } from '@firebase/database';\r\nimport { toTimeString } from '../../utils/toTimeString';\r\nimport { useDatabase } from '../../hooks/useDatabase';\r\nimport { useState } from 'react';\r\n\r\nexport function SignUp() {\r\n  const navigate = useNavigate();\r\n  const [name, setName] = useState('');\r\n  const [phone, setPhone] = useState('');\r\n  const [email, setEmail] = useState('');\r\n  const [consent, setConsent] = useState(false);\r\n  const location = useLocation();\r\n  const { uid, username, start, finish, elapsed } =\r\n    location.state as UnregisteredEntry;\r\n\r\n  const { daily, unregistered } = useDatabase();\r\n\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [error, setError] = useState<FirebaseError | null>(null);\r\n\r\n  async function submitHandler(event: React.FormEvent<HTMLFormElement>) {\r\n    event.preventDefault();\r\n\r\n    setIsLoading(() => true);\r\n    setError(() => null);\r\n\r\n    try {\r\n      const documentRef = child(unregistered, `/${uid}`);\r\n      await remove(documentRef);\r\n\r\n      await push(daily, {\r\n        start,\r\n        finish,\r\n        elapsed,\r\n        name,\r\n        username,\r\n        phone,\r\n        email,\r\n        consent,\r\n      });\r\n      navigate(Path.USER, { replace: true });\r\n    } catch (err) {\r\n      setError(() => err as FirebaseError);\r\n      setIsLoading(() => false);\r\n    }\r\n  }\r\n\r\n  const [minutes, seconds, milliseconds] = toTimeString(start, finish).split(\r\n    ':',\r\n  );\r\n\r\n  return (\r\n    <div style={{ padding: '2rem 3rem' }}>\r\n      <Logo />\r\n      <Link\r\n        to={Path.UNREGISTERED}\r\n        style={{\r\n          textDecoration: 'none',\r\n          position: 'fixed',\r\n          top: '2rem',\r\n          right: '2rem',\r\n          fontSize: '2rem',\r\n          color: 'black',\r\n        }}\r\n      >\r\n        X\r\n      </Link>\r\n      <h1\r\n        className=\"inset-dot\"\r\n        style={{\r\n          display: 'flex',\r\n          justifyContent: 'space-between',\r\n          color: '#000',\r\n          fontSize: '2.875rem',\r\n        }}\r\n      >\r\n        <span>{username}</span>\r\n        <span>\r\n          <span>{minutes}:</span>\r\n          <span>{seconds}:</span>\r\n          <span style={{ fontSize: '2rem' }}>{milliseconds}</span>\r\n        </span>\r\n      </h1>\r\n      <form onSubmit={submitHandler}>\r\n        <div className=\"column\">\r\n          <label htmlFor=\"name\">Name</label>\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"Your full name\"\r\n            id=\"name\"\r\n            value={name}\r\n            onChange={(event) => setName(event.currentTarget.value)}\r\n            required\r\n          />\r\n        </div>\r\n        <div className=\"column\">\r\n          <label htmlFor=\"phone\">Phone number</label>\r\n          <input\r\n            type=\"tel\"\r\n            placeholder=\"Your phone number\"\r\n            id=\"phone\"\r\n            value={phone}\r\n            onChange={(event) => setPhone(event.currentTarget.value)}\r\n            required\r\n          />\r\n        </div>\r\n        <div className=\"column\">\r\n          <label htmlFor=\"email\">Email</label>\r\n          <input\r\n            id=\"email\"\r\n            type=\"email\"\r\n            placeholder=\"Your e-mail\"\r\n            value={email}\r\n            onChange={(event) => setEmail(event.target.value)}\r\n            required\r\n          />\r\n        </div>\r\n        <div>\r\n          <input\r\n            type=\"checkbox\"\r\n            id=\"consent\"\r\n            checked={consent}\r\n            onChange={(event) => setConsent(event.currentTarget.checked)}\r\n          />\r\n          <label htmlFor=\"consent\">\r\n            <span></span>I wish to keep in contact with Itera through email\r\n          </label>\r\n        </div>\r\n        <button type=\"submit\" disabled={isLoading}>\r\n          Register my score\r\n        </button>\r\n        {error !== null && <p>{error.code}</p>}\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n","import { DatabasePath, Entry } from '../../domain';\r\nimport { Link, useParams } from 'react-router-dom';\r\nimport { onValue, ref } from 'firebase/database';\r\n\r\nimport { Logger } from '../../features/logging/logger';\r\nimport { Path } from '../../routes';\r\nimport { toTimeString } from '../../utils/toTimeString';\r\nimport { useDatabase } from '../../hooks/useDatabase';\r\nimport { useMount } from '../../hooks/useMount';\r\nimport { useState } from 'react';\r\n\r\nconst logger = new Logger('Stats');\r\n\r\nexport function Stats() {\r\n  const params = useParams();\r\n  const { root } = useDatabase();\r\n  const [data, setData] = useState<any>(null);\r\n  const [abandoned, setAbandoned] = useState<any>(null);\r\n\r\n  useMount(() => {\r\n    const dailyRegistered = ref(\r\n      root,\r\n      `${DatabasePath.LEADERBOARD}/${params.date}/${DatabasePath.ENTRY}`,\r\n    );\r\n\r\n    const unsubscribeRegistered = onValue(dailyRegistered, (snapshot) => {\r\n      if (!snapshot.exists()) {\r\n        logger.error(\r\n          `Attempted to read data for non existing [date=${params.date}]`,\r\n        );\r\n        return;\r\n      }\r\n\r\n      setData(snapshot.val());\r\n    });\r\n\r\n    const dailyUnregistered = ref(\r\n      root,\r\n      `${DatabasePath.UNREGISTERED}/${params.date}/${DatabasePath.ENTRY}`,\r\n    );\r\n    const unsubscribeUnregistered = onValue(dailyUnregistered, (snapshot) => {\r\n      if (!snapshot.exists()) {\r\n        logger.warn(`Found no unregistered entries for ${params.date}`);\r\n        return;\r\n      }\r\n\r\n      setAbandoned(snapshot.val());\r\n    });\r\n\r\n    return () => {\r\n      unsubscribeRegistered();\r\n      unsubscribeUnregistered();\r\n    };\r\n  });\r\n\r\n  if (data === null) {\r\n    return (\r\n      <>\r\n        <h1>No data found for {params.date}</h1>\r\n        <Link to={Path.ADMIN}>Back</Link>\r\n      </>\r\n    );\r\n  }\r\n\r\n  const extracted = Object.values(data) as Array<Entry>;\r\n  const sorted = extracted.sort((a, b) => a.elapsed - b.elapsed);\r\n\r\n  const quickestEntry = sorted[0];\r\n  const slowestEntry = sorted[sorted.length - 1];\r\n\r\n  const abandonedExist = abandoned !== null;\r\n  const extractedAbandoned =\r\n    abandonedExist &&\r\n    (Object.values(abandoned) as Array<\r\n      Pick<Entry, 'username' | 'elapsed' | 'start' | 'finish'>\r\n    >);\r\n  const sortedAbandoned =\r\n    extractedAbandoned &&\r\n    extractedAbandoned.sort((a, b) => a.elapsed - b.elapsed);\r\n  const fastestAbandoned = sortedAbandoned && sortedAbandoned[0];\r\n  const slowestAbandoned =\r\n    sortedAbandoned && sortedAbandoned[sortedAbandoned.length - 1];\r\n\r\n  return (\r\n    <div style={{ padding: '24px 32px', height: '100vh', overflow: 'auto' }}>\r\n      <Link to={Path.ADMIN}>Back</Link>\r\n      <h1>Statistics for {params.date}</h1>\r\n      <Link to={`${Path.ADMIN}/${params.date}/winner`} className=\"button\">\r\n        Get lucky winner!\r\n      </Link>\r\n      <table>\r\n        <tbody>\r\n          <tr>\r\n            <td>Entries</td>\r\n            <td>{sorted.length}</td>\r\n          </tr>\r\n          <tr>\r\n            <td>Fastest time</td>\r\n            <td>{toTimeString(quickestEntry.start, quickestEntry.finish)}</td>\r\n          </tr>\r\n          <tr>\r\n            <td>Slowest time</td>\r\n            <td>{toTimeString(slowestEntry.start, slowestEntry.finish)}</td>\r\n          </tr>\r\n          {abandonedExist &&\r\n            sortedAbandoned &&\r\n            fastestAbandoned &&\r\n            slowestAbandoned && (\r\n              <>\r\n                <tr>\r\n                  <td>Abandoned entries</td>\r\n                  <td>{sortedAbandoned.length}</td>\r\n                </tr>\r\n                <tr>\r\n                  <td>Fastest abandoned time</td>\r\n                  <td>\r\n                    {toTimeString(\r\n                      fastestAbandoned.start,\r\n                      fastestAbandoned.finish,\r\n                    )}\r\n                  </td>\r\n                </tr>\r\n                <tr>\r\n                  <td>Slowest abandoned time</td>\r\n                  <td>\r\n                    {toTimeString(\r\n                      slowestAbandoned.start,\r\n                      slowestAbandoned.finish,\r\n                    )}\r\n                  </td>\r\n                </tr>\r\n              </>\r\n            )}\r\n        </tbody>\r\n      </table>\r\n      <h2>Top 3 players</h2>\r\n      <ol>\r\n        {sorted.slice(0, 3).map((entry) => (\r\n          <li key={entry.start}>\r\n            <b>{entry.username}</b>\r\n            <table>\r\n              <tbody>\r\n                <tr>\r\n                  <td>Name</td>\r\n                  <td>{entry.name}</td>\r\n                </tr>\r\n                <tr>\r\n                  <td>Time</td>\r\n                  <td>{toTimeString(entry.start, entry.finish)}</td>\r\n                </tr>\r\n                <tr>\r\n                  <td>Email</td>\r\n                  <td>{entry.email}</td>\r\n                </tr>\r\n                <tr>\r\n                  <td>Phonenumber</td>\r\n                  <td>{entry.phone}</td>\r\n                </tr>\r\n                <tr>\r\n                  <td>Consent</td>\r\n                  <td>{String(entry.consent)}</td>\r\n                </tr>\r\n              </tbody>\r\n            </table>\r\n          </li>\r\n        ))}\r\n      </ol>\r\n    </div>\r\n  );\r\n}\r\n","import { AnimatePresence, motion } from 'framer-motion';\r\n\r\nimport { Link } from 'react-router-dom';\r\nimport { Logo } from '../../components/Logo';\r\nimport { Path } from '../../routes';\r\nimport { toTimeString } from '../../utils/toTimeString';\r\nimport { useMount } from '../../hooks/useMount';\r\nimport { useState } from 'react';\r\nimport { useUnregistered } from '../../hooks/useUnregistered';\r\n\r\nfunction Timer(props: { start: number }) {\r\n  const [, setTick] = useState(0);\r\n\r\n  useMount(() => {\r\n    const timer = setInterval(() => {\r\n      setTick((prev) => prev + 1);\r\n    }, 100);\r\n\r\n    return () => {\r\n      clearInterval(timer);\r\n    };\r\n  });\r\n\r\n  const [minutes, seconds, milliseconds] = toTimeString(\r\n    props.start,\r\n    Date.now(),\r\n  ).split(':');\r\n\r\n  return (\r\n    <p className=\"column font-family-neue-machina center-content\">\r\n      <span>{minutes}:</span>\r\n      <span>{seconds}:</span>\r\n      <span>{milliseconds}</span>\r\n    </p>\r\n  );\r\n}\r\n\r\nexport function Unregistered() {\r\n  const { unregistered, ongoing } = useUnregistered();\r\n\r\n  return (\r\n    <div style={{ padding: '2rem 3rem', height: '100vh', overflow: 'auto' }}>\r\n      <Logo />\r\n      <h1\r\n        style={{\r\n          fontSize: '5.25rem',\r\n          lineHeight: '5rem',\r\n          color: 'rgb(0, 41, 255)',\r\n        }}\r\n      >\r\n        Register your score!\r\n      </h1>\r\n      <p\r\n        style={{\r\n          fontSize: '1.75rem',\r\n          lineHeight: '3rem',\r\n        }}\r\n      >\r\n        Select your username to register for a chance to win a giftcard from\r\n        Ticketmaster!\r\n      </p>\r\n      <ul>\r\n        {unregistered\r\n          .sort((a, b) => b.start - a.start)\r\n          .map((entry) => (\r\n            <li key={entry.uid}>\r\n              <Link\r\n                to={Path.REGISTRATION}\r\n                state={entry}\r\n                style={{ color: 'rgb(0, 41, 255)', textDecoration: 'none' }}\r\n              >\r\n                {entry.username}\r\n              </Link>\r\n            </li>\r\n          ))}\r\n      </ul>\r\n\r\n      <AnimatePresence>\r\n        {ongoing.length > 0 && (\r\n          <motion.div\r\n            style={{\r\n              display: 'inline-block',\r\n              position: 'fixed',\r\n              top: 0,\r\n              right: 0,\r\n              color: '#fff',\r\n              backgroundColor: 'rgb(0, 41, 255)',\r\n              padding: '0.5rem 1rem',\r\n              fontSize: '1.75rem',\r\n              minWidth: 90,\r\n            }}\r\n            initial={{\r\n              right: -200,\r\n            }}\r\n            animate={{\r\n              right: 0,\r\n            }}\r\n            exit={{ right: -200 }}\r\n            transition={{ duration: 0.3 }}\r\n          >\r\n            <Timer start={ongoing[0].start} />\r\n          </motion.div>\r\n        )}\r\n      </AnimatePresence>\r\n    </div>\r\n  );\r\n}\r\n","interface Props {\r\n  readonly src: string;\r\n  readonly letter: string;\r\n}\r\n\r\nexport function Cube(props: Props) {\r\n  return (\r\n    <div style={{ position: \"relative\" }}>\r\n      <img\r\n        src={props.src}\r\n        alt=\"\"\r\n        style={{\r\n          height: 175,\r\n          width: 175,\r\n        }}\r\n      />\r\n      <span\r\n        style={{\r\n          display: \"flex\",\r\n          alignItems: \"center\",\r\n          justifyContent: \"center\",\r\n          lineHeight: \"0.25rem\",\r\n          fontSize: \"5rem\",\r\n          marginTop: \"-4.5rem\",\r\n          marginBottom: \"4rem\",\r\n          marginLeft: \"-2.25rem\",\r\n          zIndex: 2,\r\n        }}\r\n      >\r\n        {props.letter ? props.letter : <span style={{ color: \"#fff\" }}>H</span>}\r\n      </span>\r\n    </div>\r\n  );\r\n}\r\n","export default __webpack_public_path__ + \"static/media/Kube1.371947f1.svg\";","export default __webpack_public_path__ + \"static/media/Kube3.7d3e9fec.svg\";","export default __webpack_public_path__ + \"static/media/Kube2.ef4d286f.svg\";","import { Link, useNavigate } from 'react-router-dom';\r\nimport { createRef, useRef, useState } from 'react';\r\nimport { push, update } from 'firebase/database';\r\n\r\nimport { Cube } from '../../features/game-screen/explanation/Cube';\r\nimport { Logger } from '../../features/logging/logger';\r\nimport { Path } from '../../routes';\r\nimport cubeOne from '../../statics/svgs/Kube1.svg';\r\nimport cubeThree from '../../statics/svgs/Kube3.svg';\r\nimport cubeTwo from '../../statics/svgs/Kube2.svg';\r\nimport { useDatabase } from '../../hooks/useDatabase';\r\nimport { useMount } from '../../hooks/useMount';\r\n\r\nexport function UserRegistration(): JSX.Element {\r\n  const [logger] = useState(new Logger('UserRegistration'));\r\n  const [username, setUsername] = useState('');\r\n  const navigate = useNavigate();\r\n\r\n  const { unregistered } = useDatabase();\r\n  async function clickHandler() {\r\n    if (username.length !== 3) {\r\n      return;\r\n    }\r\n\r\n    logger.trace('Starting new timer for user', username);\r\n    const generatedKey = push(unregistered).key;\r\n\r\n    if (generatedKey === null) {\r\n      logger.error('Failed to generate new key');\r\n      throw new Error('Failed to generate new key');\r\n    }\r\n\r\n    const now = Date.now();\r\n    await update(unregistered, {\r\n      [generatedKey]: {\r\n        username,\r\n        registrationTime: now,\r\n      },\r\n    });\r\n\r\n    navigate(Path.ONGOING);\r\n  }\r\n\r\n  const inputRef = useRef<HTMLInputElement | null>(null);\r\n  useMount(() => {\r\n    if (inputRef.current !== null) {\r\n      inputRef.current.focus();\r\n    }\r\n  });\r\n\r\n  return (\r\n    <div\r\n      className=\"column center-content\"\r\n      style={{\r\n        padding: '24px 32px',\r\n        justifyContent: 'center',\r\n        height: '100vh',\r\n      }}\r\n    >\r\n      <h1 style={{ fontSize: '3rem', marginBottom: '2rem' }}>Your nickname:</h1>\r\n      <div className=\"row\" style={{ marginBottom: '8rem' }}>\r\n        <Cube src={cubeOne} letter={username.slice(0, 1)} />\r\n        <Cube src={cubeTwo} letter={username.slice(1, 2)} />\r\n        <Cube src={cubeThree} letter={username.slice(2, 3)} />\r\n      </div>\r\n      <button onClick={clickHandler}>READY</button>\r\n      <Link to={Path.EXPLANATION}>Back</Link>\r\n      <input\r\n        ref={inputRef}\r\n        value={username}\r\n        onChange={(event) => setUsername(event.target.value.slice(0, 3))}\r\n        spellCheck={false}\r\n        style={{\r\n          fontSize: 75,\r\n          width: '100vw',\r\n          letterSpacing: 138,\r\n          background: 'transparent',\r\n          border: 'transparent',\r\n          color: 'transparent',\r\n          outline: 'none',\r\n          position: 'absolute',\r\n          top: '40vh',\r\n          left: 0,\r\n        }}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n","export default __webpack_public_path__ + \"static/media/bricks.9f645405.png\";","export default __webpack_public_path__ + \"static/media/StandVideo.14230d9e.mp4\";","import { Path } from '../../routes';\r\nimport bricks from '../../statics/images/bricks.png';\r\nimport standVideo from '../../statics/videos/StandVideo.mp4';\r\nimport { toTimeString } from '../../utils/toTimeString';\r\nimport { useEffect } from 'react';\r\nimport { useLeaderboard } from '../../hooks/useLeaderboard';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { useUnregistered } from '../../hooks/useUnregistered';\r\n\r\nexport function VideoShow() {\r\n  const navigate = useNavigate();\r\n\r\n  const leaderboard = useLeaderboard();\r\n  const topThree = leaderboard.slice(0, 3);\r\n\r\n  const { ongoing } = useUnregistered();\r\n\r\n  useEffect(() => {\r\n    if (ongoing.length === 0) {\r\n      return;\r\n    }\r\n\r\n    navigate(Path.COUNTDOWN, {\r\n      state: ongoing[0],\r\n      replace: true,\r\n    });\r\n  }, [ongoing, navigate]);\r\n\r\n  return (\r\n    <div className=\"fill-screen bg-midnight\" style={{ position: 'relative' }}>\r\n      <div\r\n        className=\"row fill-vw\"\r\n        style={{ justifyContent: 'flex-end', paddingTop: '10vh' }}\r\n      >\r\n        <section\r\n          className=\"bg-ivory\"\r\n          style={{\r\n            width: '33vw',\r\n            padding: '2rem',\r\n            clipPath:\r\n              'polygon(0 0, 100% 0, 100% 100%, 35% 100%, 35% 65%, 0 65%)',\r\n            marginTop: '-8vh',\r\n          }}\r\n        >\r\n          <span style={{ fontSize: '2.5rem' }}>\r\n            Build and win a giftcard from Ticketmaster\r\n          </span>\r\n          <h1>Build Itera with us?</h1>\r\n          <img\r\n            src={bricks}\r\n            style={{\r\n              float: 'right',\r\n              filter: 'grayscale(100%)',\r\n              marginTop: '25vh',\r\n              transform: 'scale(1.25)',\r\n              marginRight: '3vw',\r\n            }}\r\n          />\r\n        </section>\r\n        <video\r\n          autoPlay\r\n          loop\r\n          muted\r\n          style={{ position: 'relative', width: '65vw' }}\r\n        >\r\n          <source src={standVideo} type=\"video/mp4\" />\r\n          Your browser does not support the video tag.\r\n        </video>\r\n      </div>\r\n      <div\r\n        style={{\r\n          display: 'flex',\r\n          alignItems: 'stretch',\r\n          justifyContent: 'flex-end',\r\n        }}\r\n      >\r\n        {topThree.length > 0 && (\r\n          <ol\r\n            className=\"bg-ivory\"\r\n            style={{\r\n              padding: 24,\r\n              margin: 0,\r\n            }}\r\n          >\r\n            {topThree.map((entry, index) => (\r\n              <li\r\n                key={entry.start}\r\n                style={{\r\n                  display: 'flex',\r\n                  justifyContent: 'space-between',\r\n                  fontFamily: 'Neue Machina',\r\n                  fontWeight: '600',\r\n                  fontSize: 32,\r\n                }}\r\n              >\r\n                <span>{index + 1}.</span>\r\n                <span>{entry.username}</span>\r\n                <span>-</span>\r\n                <span>{toTimeString(entry.start, entry.finish)}</span>\r\n              </li>\r\n            ))}\r\n          </ol>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import { DatabasePath, Entry } from '../../domain';\r\nimport { Link, useParams } from 'react-router-dom';\r\nimport { onValue, ref } from 'firebase/database';\r\n\r\nimport { Logger } from '../../features/logging/logger';\r\nimport { Path } from '../../routes';\r\nimport { useDatabase } from '../../hooks/useDatabase';\r\nimport { useMount } from '../../hooks/useMount';\r\nimport { useState } from 'react';\r\n\r\nconst logger = new Logger('Winner');\r\n\r\nlet frequency = 1;\r\nlet flips = 0;\r\nfunction getRandomInt(max: number): number {\r\n  return Math.floor(Math.random() * max);\r\n}\r\n\r\nexport function Winner() {\r\n  const params = useParams();\r\n  const { root } = useDatabase();\r\n  const [data, setData] = useState<Array<Entry> | null>(null);\r\n  const [winner, setWinner] = useState<number | null>(null);\r\n  const [open, setOpen] = useState(false);\r\n\r\n  useMount(() => {\r\n    const dailyRegistered = ref(\r\n      root,\r\n      `${DatabasePath.LEADERBOARD}/${params.date}/${DatabasePath.ENTRY}`,\r\n    );\r\n\r\n    const unsubscribe = onValue(dailyRegistered, (snapshot) => {\r\n      if (!snapshot.exists()) {\r\n        logger.error(\r\n          `Attempted to read data for non existing [date=${params.date}]`,\r\n        );\r\n        return;\r\n      }\r\n      setData(Object.values(snapshot.val()));\r\n    });\r\n\r\n    return () => {\r\n      unsubscribe();\r\n    };\r\n  });\r\n\r\n  function getWinner() {\r\n    if (data === null) {\r\n      logger.error('Data not loaded yet for some reason');\r\n      return;\r\n    }\r\n\r\n    if (frequency < 3000) {\r\n      if (flips > 100 && flips < 1000) {\r\n        frequency += frequency + 1;\r\n      } else if (flips > 1000 && flips < 2000) {\r\n        frequency += frequency + 2;\r\n      }\r\n      flips += 1;\r\n      setWinner(getRandomInt(data.length));\r\n      setTimeout(() => {\r\n        getWinner();\r\n      }, frequency);\r\n    } else {\r\n      flips = 0;\r\n      frequency = 1;\r\n    }\r\n  }\r\n\r\n  if (data === null) {\r\n    return <h1>Loading...</h1>;\r\n  }\r\n\r\n  if (winner === null) {\r\n    return (\r\n      <div\r\n        style={{\r\n          padding: '2rem',\r\n          display: 'flex',\r\n          justifyContent: 'center',\r\n          alignItems: 'center',\r\n          height: '100vh',\r\n        }}\r\n      >\r\n        <button onClick={getWinner}>Pick Winner!</button>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (frequency > 3000) {\r\n    return (\r\n      <div\r\n        style={{\r\n          padding: '2rem',\r\n          display: 'flex',\r\n          justifyContent: 'center',\r\n          alignItems: 'center',\r\n          height: '100vh',\r\n          flexDirection: 'column',\r\n        }}\r\n      >\r\n        <h1 className=\"bg-jade color-midnight\" style={{ padding: '2rem' }}>\r\n          {data[winner].name}\r\n        </h1>\r\n\r\n        {open && (\r\n          <table style={{ maxWidth: 400 }}>\r\n            <tbody>\r\n              <tr>\r\n                <td>Email</td>\r\n                <td>{data[winner].email}</td>\r\n              </tr>\r\n              <tr>\r\n                <td>Phonenumber</td>\r\n                <td>{data[winner].phone}</td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n        )}\r\n\r\n        <button\r\n          onClick={() => setOpen(() => true)}\r\n          style={{\r\n            position: 'absolute',\r\n            top: 20,\r\n            right: 20,\r\n            padding: 0,\r\n            backgroundColor: 'transparent',\r\n            color: 'black',\r\n            fontSize: 16,\r\n          }}\r\n        >\r\n          Display contact information\r\n        </button>\r\n        <Link\r\n          to={`${Path.ADMIN}/${params.date}`}\r\n          style={{\r\n            position: 'absolute',\r\n            left: 20,\r\n            top: 20,\r\n          }}\r\n        >\r\n          Back\r\n        </Link>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        padding: '2rem',\r\n        display: 'flex',\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n        height: '100vh',\r\n      }}\r\n    >\r\n      <h1 className=\"bg-sea color-white\" style={{ padding: '2rem' }}>\r\n        {data[winner].name}\r\n      </h1>\r\n      <Link\r\n        to={`${Path.ADMIN}/${params.date}`}\r\n        style={{\r\n          position: 'absolute',\r\n          left: 20,\r\n          top: 20,\r\n        }}\r\n      >\r\n        Back\r\n      </Link>\r\n    </div>\r\n  );\r\n}\r\n","import { Route, Routes, useNavigate } from 'react-router';\r\n\r\nimport { Admin } from '../pages/admin';\r\nimport { Countdown } from '../pages/game/Countdown';\r\nimport { Finish } from '../pages/game/Finish';\r\nimport { Game } from '../pages/game/Game';\r\nimport { Home } from '../pages';\r\nimport { Information } from '../pages/remote/Information';\r\nimport { Ongoing } from '../pages/remote/Ongoing';\r\nimport { Profile } from '../pages/Profile';\r\nimport { SignIn } from '../pages/auth/SignIn';\r\nimport { SignUp } from '../pages/auth/SignUp';\r\nimport { Stats } from '../pages/admin/Stats';\r\nimport { Unregistered } from '../features/firebase/Unregistered';\r\nimport { UserRegistration } from '../pages/remote/UserRegistration';\r\nimport { VideoShow } from '../pages/game/VideoShow';\r\nimport { Winner } from '../pages/admin/Winner';\r\nimport { useFirebase } from '../features/firebase/FirebaseProvider';\r\nimport { useMount } from '../hooks/useMount';\r\n\r\nexport enum Path {\r\n  HOME = '/',\r\n  USER = '/profile',\r\n  UNREGISTERED = '/unregistered',\r\n\r\n  VIDEOSHOW = '/game/videoshow',\r\n  COUNTDOWN = '/game/countdown',\r\n  GAME = '/game/timer',\r\n  FINISH = '/game/finish',\r\n\r\n  EXPLANATION = '/remote/explanation',\r\n  USER_REGISTRATION = '/remote/user_registration',\r\n  ONGOING = '/remote/ongoing',\r\n\r\n  REGISTRATION = '/auth/sign-up',\r\n  LOGIN = '/auth/sign-in',\r\n\r\n  ADMIN = '/admin',\r\n}\r\n\r\nexport function Router() {\r\n  const { auth } = useFirebase();\r\n  const navigate = useNavigate();\r\n\r\n  useMount(() => {\r\n    auth.onAuthStateChanged((user) => {\r\n      if (user === null) {\r\n        navigate(Path.LOGIN);\r\n      }\r\n    });\r\n  });\r\n\r\n  return (\r\n    <>\r\n      <Routes>\r\n        <Route path={Path.HOME} element={<Home />} />\r\n        <Route path={Path.USER} element={<Profile />} />\r\n        <Route path={Path.UNREGISTERED} element={<Unregistered />} />\r\n\r\n        <Route path={Path.VIDEOSHOW} element={<VideoShow />} />\r\n        <Route path={Path.COUNTDOWN} element={<Countdown />} />\r\n        <Route path={Path.GAME} element={<Game />} />\r\n        <Route path={Path.FINISH} element={<Finish />} />\r\n\r\n        <Route path={Path.EXPLANATION} element={<Information />} />\r\n        <Route path={Path.USER_REGISTRATION} element={<UserRegistration />} />\r\n        <Route path={Path.ONGOING} element={<Ongoing />} />\r\n\r\n        <Route path={Path.REGISTRATION} element={<SignUp />} />\r\n        <Route path={Path.LOGIN} element={<SignIn />} />\r\n\r\n        <Route path={Path.ADMIN} element={<Admin />} />\r\n        <Route path={`${Path.ADMIN}/:date`} element={<Stats />} />\r\n        <Route path={`${Path.ADMIN}/:date/winner`} element={<Winner />} />\r\n      </Routes>\r\n    </>\r\n  );\r\n}\r\n","import { Router } from './routes';\r\n\r\nfunction App() {\r\n  return (\r\n    <main>\r\n      <Router />\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import { ReportHandler } from 'web-vitals';\r\n\r\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import 'normalize.css';\r\nimport './index.css';\r\n\r\nimport App from './App';\r\nimport { FirebaseProvider } from './features/firebase/FirebaseProvider';\r\nimport { HashRouter } from 'react-router-dom';\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <HashRouter>\r\n      <FirebaseProvider>\r\n        <App />\r\n      </FirebaseProvider>\r\n    </HashRouter>\r\n  </React.StrictMode>,\r\n  document.getElementById('root'),\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}