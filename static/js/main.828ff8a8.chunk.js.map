{"version":3,"sources":["features/game-screen/countdown/Count.tsx","features/game-screen/countdown/Countdown.tsx","hooks/useMount.ts","pages/game/Countdown.tsx","utils/toTimeString.ts","domain.ts","features/config/Config.ts","components/Loader.tsx","features/firebase/FirebaseProvider.tsx","hooks/useDatabase.ts","features/logging/logger.ts","hooks/useLeaderboard.ts","features/game-screen/completed/Highscore.tsx","statics/svgs/Arrow.svg","components/Arrow.tsx","features/game-screen/completed/Completed.tsx","pages/game/Finish.tsx","components/TimeDisplay.tsx","statics/svgs/Logo.svg","features/game-screen/ongoing/Ongoing.tsx","hooks/useTimer.ts","features/game-screen/ongoing/DigTheDigital.tsx","features/game-screen/ongoing/MakeADifference.tsx","features/game-screen/ongoing/AllDataIsBiased.tsx","features/game-screen/ongoing/PeoplePassionPurpose.tsx","features/game-screen/ongoing/HumanSolutions.tsx","features/game-screen/ongoing/ScrumIsYum.tsx","features/game-screen/ongoing/Quotes.tsx","pages/game/Game.tsx","pages/index.tsx","components/Logo.tsx","statics/images/Sonos.png","pages/Profile.tsx","hooks/useAsync.ts","hooks/useAuth.ts","pages/auth/SignIn.tsx","pages/auth/SignUp.tsx","hooks/useUnregistered.ts","features/firebase/Unregistered.tsx","features/game-screen/explanation/Explanation.tsx","features/game-screen/explanation/Keyboard.tsx","features/game-screen/explanation/Cube.tsx","statics/svgs/Kube1.svg","statics/svgs/Kube2.svg","statics/svgs/Kube3.svg","features/game-screen/explanation/UserNickname.tsx","pages/game/UserRegistration.tsx","statics/images/bricks.png","routes/index.tsx","statics/videos/StandVideo.mp4","pages/game/VideoShow.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["Count","props","duration","delay","number","rest","motion","div","transition","initial","translateX","animate","exit","style","zIndex","fontSize","DURATION","Countdown","AnimatePresence","className","DELAY","useMount","f","useEffect","location","useLocation","navigate","useNavigate","timer","setTimeout","Path","GAME","replace","state","username","clearTimeout","pad","value","length","toString","padStart","toTimeString","start","finish","time","Date","minutes","getMinutes","seconds","getSeconds","milliseconds","getMilliseconds","slice","DatabasePath","Config","config","getConfig","firebase","features","Loader","init","children","useState","loading","setLoading","then","logging","apiKey","process","appId","authDomain","databaseURL","messagingSenderId","projectId","storageBucket","firebaseContext","createContext","FirebaseProvider","initializeApp","getFirebaseConfig","app","getAnalytics","analytics","getDatabase","db","getAuth","auth","a","get","ref","snapshot","val","data","date","today","getFullYear","getMonth","getDate","undefined","set","createdAt","now","console","error","Provider","useFirebase","context","useContext","Error","useDatabase","root","leaderboard","LEADERBOARD","daily","ENTRY","users","USERS","unregistered","UNREGISTERED","Logger","name","level","this","logLevel","getFeatures","indexOf","message","trace","debug","info","warn","useLeaderboard","logger","setLeaderboard","attachObserver","onValue","exists","entries","finished","filter","entry","hasOwnProperty","sort","b","elapsed","updateStandings","Object","values","Highscore","withRecentRun","highlight","fastest","highlightRef","useRef","current","scrollIntoView","behavior","block","fontWeight","lineHeight","id","display","overflowY","maxHeight","scrollbarWidth","map","index","_style","_path","_extends","assign","target","i","arguments","source","key","prototype","call","apply","_objectWithoutProperties","excluded","sourceKeys","keys","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgArrow","_ref","svgRef","title","titleId","xmlns","xmlnsXlink","x","y","viewBox","enableBackground","xmlSpace","type","d","ForwardRef","Arrow","color","stroke","fill","width","marginRight","Completed","run","split","section","height","padding","paddingLeft","marginTop","to","VIDEOSHOW","Finish","TimeDisplay","column","setTick","interval","setInterval","prev","clearInterval","_path2","_path3","_path4","_path5","Ongoing","setKey","startTime","generatedKey","push","update","stopTime","child","stop","useTimer","startTimer","minWidth","justifyContent","marginBottom","onClick","FINISH","DigTheDigital","textAlign","MakeADifference","AllDataIsBiased","PeoplePassionPurpose","HumanSolutions","ScrumIsYum","Quotes","setCurrent","quotes","max","Math","floor","random","maxWidth","_","quote","Game","position","top","left","Home","LOGIN","SvgLogo","Logo","Profile","src","PriceImage","useAsync","result","setResult","setError","callback","useCallback","res","catch","err","finally","addUserToCollection","email","phone","consent","documentRef","removeFromUnregistered","remove","useAuth","password","signInWithEmailAndPassword","credentials","user","uid","addUser","signIn","SignIn","setEmail","setPassword","onSubmit","event","preventDefault","placeholder","onChange","currentTarget","required","disabled","code","SignUp","setName","setPhone","setConsent","textDecoration","right","USER","htmlFor","checked","useUnregistered","unregisteredList","setUnregisteredList","ongoing","setOngoing","Timer","Unregistered","REGISTRATION","backgroundColor","Explanation","COUNTDOWN","pointerEvents","Keyboard","setValue","onKeyPress","input","newValue","layout","default","Cube","alt","alignItems","marginLeft","letter","UserNickname","cubeOne","cubeTwo","cubeThree","UserRegistration","setUsername","VideoShow","topThree","paddingTop","clipPath","bricks","float","transform","autoPlay","loop","muted","standVideo","margin","fontFamily","EXPLANATION","AuthenticationBlocker","isAuthenticated","currentUser","pathname","Router","path","HOME","element","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.828ff8a8.chunk.js","sourcesContent":["import { motion, MotionProps } from \"framer-motion\";\r\nimport { PropsWithChildren } from \"react\";\r\n\r\ninterface Props extends MotionProps {\r\n  readonly duration: number;\r\n  readonly delay: number;\r\n  readonly number: number;\r\n  readonly className: string;\r\n}\r\n\r\nexport function Count(props: PropsWithChildren<Props>) {\r\n  const { duration, delay, number, ...rest } = props;\r\n\r\n  return (\r\n    <motion.div\r\n      {...rest}\r\n      transition={{ duration, delay }}\r\n      initial={{ translateX: \"100vw\" }}\r\n      animate={{ translateX: \"0vw\" }}\r\n      exit={{ translateX: \"-100vw\" }}\r\n      style={{\r\n        zIndex: -number,\r\n      }}\r\n    >\r\n      <h1 style={{ fontSize: \"25rem\" }}>{number}</h1>\r\n    </motion.div>\r\n  );\r\n}\r\n","import { AnimatePresence } from \"framer-motion\";\r\nimport { Count } from \"./Count\";\r\n\r\nconst DURATION = 0.25;\r\nconst DELAY = 1;\r\n\r\nexport function Countdown() {\r\n  return (\r\n    <AnimatePresence>\r\n      <Count\r\n        key=\"count-3\"\r\n        delay={0}\r\n        duration={DURATION}\r\n        number={3}\r\n        className=\"bg-gold color-lobster fill-screen center-content absolute\"\r\n      />\r\n      <Count\r\n        key=\"count-2\"\r\n        delay={DELAY}\r\n        duration={DURATION}\r\n        number={2}\r\n        className=\"bg-jade color-sea fill-screen center-content absolute\"\r\n      />\r\n      <Count\r\n        key=\"count-1\"\r\n        delay={DELAY * 2}\r\n        duration={DURATION}\r\n        number={1}\r\n        className=\"bg-fuschia color-gold fill-screen center-content absolute\"\r\n      />\r\n    </AnimatePresence>\r\n  );\r\n}\r\n","import { EffectCallback, useEffect } from 'react';\r\n\r\nexport function useMount(f: EffectCallback) {\r\n  // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  useEffect(f, []);\r\n}\r\n","import { useLocation, useNavigate } from \"react-router\";\r\nimport { Countdown as InternalCountdown } from \"../../features/game-screen/countdown/Countdown\";\r\nimport { useMount } from \"../../hooks/useMount\";\r\nimport { Path } from \"../../routes\";\r\n\r\nexport function Countdown() {\r\n  const location = useLocation();\r\n  const navigate = useNavigate();\r\n\r\n  useMount(() => {\r\n    const timer = setTimeout(() => {\r\n      navigate(Path.GAME, {\r\n        replace: true,\r\n        state: {\r\n          username: location.state,\r\n        },\r\n      });\r\n    }, 3000);\r\n\r\n    return () => {\r\n      clearTimeout(timer);\r\n    };\r\n  });\r\n\r\n  return <InternalCountdown />;\r\n}\r\n","function pad(value: number, length: number): string {\r\n  return value.toString().padStart(length, '000');\r\n}\r\n\r\nexport function toTimeString(start: number, finish: number): string {\r\n  const elapsed = finish - start;\r\n  const time = new Date(elapsed);\r\n\r\n  const minutes = pad(time.getMinutes(), 2);\r\n  const seconds = pad(time.getSeconds(), 2);\r\n  const milliseconds = pad(time.getMilliseconds(), 3).slice(0, 2);\r\n\r\n  return `${minutes}:${seconds}:${milliseconds}`;\r\n}\r\n","export interface User {\r\n  email: string;\r\n  username: string;\r\n  createAt: number;\r\n  uid: string;\r\n}\r\n\r\nexport interface Entry {\r\n  username: string;\r\n  start: number;\r\n  finish: number;\r\n  elapsed: number;\r\n\r\n  name: string;\r\n  email: string;\r\n  phone: string;\r\n  consent: boolean;\r\n}\r\n\r\nexport enum DatabasePath {\r\n  LEADERBOARD = \"/leaderboard\",\r\n  ENTRY = \"/entries\",\r\n  USERS = \"/users\",\r\n  UNREGISTERED = \"/unregistered\",\r\n}\r\n\r\nexport interface Leaderboard {\r\n  entries?: Record<string, Entry>;\r\n  createdAt: number;\r\n}\r\nexport interface DatabaseSchema {\r\n  users: Record<string, User>;\r\n  leaderboard: Record<string, Leaderboard>;\r\n}\r\n","interface IConfig {\r\n  features: {\r\n    logging: 'trace' | 'debug' | 'info' | 'warn' | 'error';\r\n  };\r\n  firebase: Partial<{\r\n    apiKey: string;\r\n    appId: string;\r\n    authDomain: string;\r\n    databaseURL: string;\r\n    messagingSenderId: string;\r\n    projectId: string;\r\n    storageBucket: string;\r\n  }>;\r\n}\r\n\r\nexport class Config {\r\n  static config: IConfig = {\r\n    features: {\r\n      logging: 'trace',\r\n    },\r\n    firebase: {\r\n      apiKey: process.env.REACT_APP_FIREBASE_API_KEY,\r\n      appId: process.env.REACT_APP_FIREBASE_APP_ID,\r\n      authDomain: process.env.REACT_APP_FIREBASE_AUTH_DOMAIN,\r\n      databaseURL: process.env.REACT_APP_FIREBASE_DATABASE_URL,\r\n      messagingSenderId: process.env.REACT_APP_FIREBASE_MESSAGING_SENDER_ID,\r\n      projectId: process.env.REACT_APP_FIREBASE_PROJECT_ID,\r\n      storageBucket: process.env.REACT_APP_FIREBASE_STORAGE_BUCKET,\r\n    },\r\n  };\r\n\r\n  static getConfig() {\r\n    return Config.config;\r\n  }\r\n\r\n  static getFirebaseConfig() {\r\n    return Config.getConfig().firebase;\r\n  }\r\n\r\n  static getFeatures() {\r\n    return Config.getConfig().features;\r\n  }\r\n}\r\n","import { PropsWithChildren, useState } from 'react';\r\n\r\nimport { useMount } from '../hooks/useMount';\r\n\r\ninterface Props {\r\n  readonly init: () => Promise<void>;\r\n}\r\n\r\nexport function Loader(props: PropsWithChildren<Props>): JSX.Element {\r\n  const { init, children } = props;\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useMount(() => {\r\n    init().then(() => setLoading(() => false));\r\n  });\r\n\r\n  if (loading) {\r\n    return <h1>Loading...</h1>;\r\n  }\r\n\r\n  return <>{children}</>;\r\n}\r\n","import { Analytics, getAnalytics } from \"firebase/analytics\";\r\nimport { Auth, getAuth } from \"firebase/auth\";\r\nimport { Database, get, ref } from \"firebase/database\";\r\nimport { FirebaseApp, initializeApp } from \"firebase/app\";\r\nimport { PropsWithChildren, createContext, useContext, useState } from \"react\";\r\nimport { getDatabase, set } from \"firebase/database\";\r\n\r\nimport { Config } from \"../config/Config\";\r\nimport { Loader } from \"../../components/Loader\";\r\n\r\ninterface FirebaseContext {\r\n  app: FirebaseApp;\r\n  analytics: Analytics;\r\n  auth: Auth;\r\n  db: Database;\r\n}\r\n\r\nconst firebaseContext = createContext<FirebaseContext | null>(null);\r\n\r\nexport function FirebaseProvider({ children }: PropsWithChildren<{}>) {\r\n  const [app] = useState(initializeApp(Config.getFirebaseConfig()));\r\n  const [analytics] = useState(getAnalytics(app));\r\n  const [db] = useState(getDatabase(app));\r\n  const [auth] = useState(getAuth(app));\r\n\r\n  async function init() {\r\n    const snapshot = await get(ref(db, \"/leaderboard\"));\r\n    const data = await snapshot.val();\r\n\r\n    const date = new Date();\r\n    const today = `${date.getFullYear()}-${date.getMonth()}-${date.getDate()}`;\r\n\r\n    if (data === null || data[today] === undefined) {\r\n      try {\r\n        await set(ref(db, `leaderboard/${today}`), {\r\n          createdAt: Date.now(),\r\n        });\r\n      } catch (err) {\r\n        console.error(err);\r\n      }\r\n    }\r\n  }\r\n\r\n  return (\r\n    <firebaseContext.Provider\r\n      value={{\r\n        app,\r\n        analytics,\r\n        db,\r\n        auth,\r\n      }}\r\n    >\r\n      <Loader init={init}>{children}</Loader>\r\n    </firebaseContext.Provider>\r\n  );\r\n}\r\n\r\nexport function useFirebase() {\r\n  const context = useContext(firebaseContext);\r\n\r\n  if (context === null) {\r\n    throw new Error(\"Element must be wrapped by a FirebaseProvider\");\r\n  }\r\n\r\n  return context;\r\n}\r\n","import { ref } from 'firebase/database';\r\n\r\nimport { DatabasePath } from '../domain';\r\nimport { useFirebase } from '../features/firebase/FirebaseProvider';\r\nimport { useState } from 'react';\r\n\r\nexport function useDatabase() {\r\n  const { db } = useFirebase();\r\n  const [today] = useState(() => {\r\n    const date = new Date();\r\n    return `${date.getFullYear()}-${date.getMonth()}-${date.getDate()}`;\r\n  });\r\n\r\n  return {\r\n    root: db,\r\n    leaderboard: ref(db, DatabasePath.LEADERBOARD),\r\n    daily: ref(\r\n      db,\r\n      `${DatabasePath.LEADERBOARD}/${today}/${DatabasePath.ENTRY}`\r\n    ),\r\n    users: ref(db, DatabasePath.USERS),\r\n    unregistered: ref(db, `${DatabasePath.UNREGISTERED}/${today}/${DatabasePath.ENTRY}`),\r\n  };\r\n}\r\n","import { Config } from '../config/Config';\r\n\r\nexport class Logger {\r\n  private name: string;\r\n  private level: number;\r\n\r\n  constructor(name: string) {\r\n    this.name = name;\r\n    const logLevel = Config.getFeatures().logging;\r\n    this.level = ['trace', 'debug', 'info', 'warn', 'error'].indexOf(logLevel);\r\n  }\r\n\r\n  trace(...message: Array<any>) {\r\n    if (this.level === 0) {\r\n      console.trace(`[${this.name}]`, ...message);\r\n    }\r\n  }\r\n\r\n  debug(...message: Array<any>) {\r\n    if (this.level <= 1) {\r\n      console.debug(`[${this.name}]`, ...message);\r\n    }\r\n  }\r\n\r\n  info(...message: Array<any>) {\r\n    if (this.level <= 2) {\r\n      console.info(`[${this.name}]`, ...message);\r\n    }\r\n  }\r\n\r\n  warn(...message: Array<any>) {\r\n    if (this.level <= 3) {\r\n      console.warn(`[${this.name}]`, ...message);\r\n    }\r\n  }\r\n\r\n  error(...message: Array<any>) {\r\n    if (this.level <= 4) {\r\n      console.error(`[${this.name}]`, ...message);\r\n    }\r\n  }\r\n}\r\n","import { Entry } from \"../domain\";\r\nimport { onValue } from \"firebase/database\";\r\nimport { useDatabase } from \"./useDatabase\";\r\nimport { useMount } from \"./useMount\";\r\nimport { useState } from \"react\";\r\nimport { Logger } from \"../features/logging/logger\";\r\n\r\nexport function useLeaderboard(): Array<Entry> {\r\n  const [logger] = useState(new Logger(\"useLeaderboard\"));\r\n  const { daily } = useDatabase();\r\n  const [leaderboard, setLeaderboard] = useState<Array<Entry>>([]);\r\n\r\n  function updateStandings(entries: Array<Entry>) {\r\n    logger.trace(\"Updating leaderboard\");\r\n\r\n    const finished = entries.filter((entry) =>\r\n      entry.hasOwnProperty(\"finish\")\r\n    ) as Array<Required<Entry>>;\r\n\r\n    logger.debug(\"Found\", `[finished=${finished.length}]`, \"finished entries\");\r\n    setLeaderboard(() => finished.sort((a, b) => a.elapsed - b.elapsed));\r\n  }\r\n\r\n  function attachObserver() {\r\n    logger.trace(\r\n      \"Attaching listener to leaderboard document\",\r\n      daily.toString()\r\n    );\r\n    onValue(daily, (snapshot) => {\r\n      if (!snapshot.exists()) {\r\n        logger.warn(\"Found no data on\", `[src=${daily.toString()}]`);\r\n        return;\r\n      }\r\n\r\n      const data = snapshot.val() as Record<string, Entry>;\r\n      const entries = Object.values(data);\r\n      updateStandings(entries);\r\n    });\r\n  }\r\n\r\n  useMount(() => {\r\n    attachObserver();\r\n  });\r\n\r\n  return leaderboard;\r\n}\r\n","import { Entry } from '../../../domain';\r\nimport { toTimeString } from '../../../utils/toTimeString';\r\nimport { useLeaderboard } from '../../../hooks/useLeaderboard';\r\nimport { useEffect, useRef } from 'react';\r\n\r\ninterface Props {\r\n  readonly entry: Entry;\r\n}\r\n\r\ninterface HighlightedEntry extends Entry {\r\n  highlight?: boolean;\r\n}\r\n\r\nexport function Highscore(props: Props): JSX.Element {\r\n  const { entry } = props;\r\n  const leaderboard = useLeaderboard();\r\n\r\n  const withRecentRun: Array<HighlightedEntry> = [\r\n    ...leaderboard.filter((value) => value.start !== entry.start),\r\n    { ...entry, highlight: true },\r\n  ].sort((a, b) => a.elapsed - b.elapsed);\r\n  const fastest = withRecentRun[0];\r\n\r\n  const highlightRef = useRef<HTMLTableRowElement>(null);\r\n\r\n  useEffect(()=>{\r\n    setTimeout(()=>{\r\n      highlightRef.current?.scrollIntoView({ behavior: \"smooth\", block: \"center\" });\r\n    }, 5000)\r\n  })\r\n\r\n  return (\r\n    <div\r\n      className=\"font-family-neue-machina\"\r\n      style={{ fontWeight: 700, fontSize: '3rem', lineHeight: '4rem' }}\r\n    >\r\n      <table>\r\n        <tbody>\r\n          <tr data-highlight={fastest.highlight}>\r\n            <td>1.</td>\r\n            <td>{fastest.username}</td>\r\n            <td>{toTimeString(fastest.start, fastest.finish)}</td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n      <table id=\"scrollable-table\">\r\n        <tbody\r\n          style={{\r\n            display: 'block',\r\n            overflowY: 'scroll',\r\n            maxHeight: '17rem',\r\n            scrollbarWidth: 'none',\r\n          }}\r\n        >\r\n          {withRecentRun.slice(1).map((entry, index) => (\r\n            <tr key={entry.start} data-highlight={entry.highlight} ref={entry.highlight ? highlightRef : null}>\r\n              <td>{index + 2}.</td>\r\n              <td>{entry.username}</td>\r\n              <td>{toTimeString(entry.start, entry.finish)}</td>\r\n            </tr>\r\n          ))}\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n}\r\n","var _style, _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgArrow(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"Layer_1\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    x: \"0px\",\n    y: \"0px\",\n    viewBox: \"0 0 19 14\",\n    style: {\n      enableBackground: \"new 0 0 19 14\"\n    },\n    xmlSpace: \"preserve\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _style || (_style = /*#__PURE__*/React.createElement(\"style\", {\n    type: \"text/css\"\n  }, \"\\r\\n\\t.st0{fill-rule:evenodd;clip-rule:evenodd;}\\r\\n\")), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    className: \"st0\",\n    d: \"M11.79,0.89l-0.57,0.58l2.09,2.12L15.4,5.7H8H0.6v0.92v0.92H8h7.4l-2.09,2.12l-2.09,2.12l0.61,0.61l0.61,0.61 l3.15-3.19l3.15-3.19l-3.11-3.16c-1.71-1.74-3.15-3.16-3.19-3.16C12.4,0.31,12.1,0.57,11.79,0.89z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgArrow);\nexport default __webpack_public_path__ + \"static/media/Arrow.dd567774.svg\";\nexport { ForwardRef as ReactComponent };","import { ReactComponent } from \"../statics/svgs/Arrow.svg\";\r\n\r\ninterface Props {\r\n  readonly color?: string;\r\n}\r\n\r\nexport function Arrow(props: Props) {\r\n  const { color = \"#fff\" } = props;\r\n  return (\r\n    <ReactComponent\r\n      stroke={color}\r\n      fill={color}\r\n      width=\"80px\"\r\n      style={{ marginRight: \"2rem\" }}\r\n    />\r\n  );\r\n}\r\n","import { Entry } from \"../../../domain\";\r\nimport { Highscore } from \"./Highscore\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Path } from \"../../../routes\";\r\nimport { motion } from \"framer-motion\";\r\nimport { toTimeString } from \"../../../utils/toTimeString\";\r\nimport { useLocation } from \"react-router\";\r\nimport { Arrow } from \"../../../components/Arrow\";\r\n\r\nexport function Completed() {\r\n  const location = useLocation();\r\n  const run = location.state as Entry;\r\n  const elapsed = toTimeString(run.start, run.finish);\r\n  const [minutes, seconds, milliseconds] = elapsed.split(\":\");\r\n\r\n  return (\r\n    <div className=\"bg-ivory fill-screen\">\r\n      <motion.section\r\n        className=\"color-sea center-content\"\r\n        style={{ height: \"100vh\" }}\r\n        animate={{ height: \"40vh\" }}\r\n        transition={{ duration: 2, delay: 3 }}\r\n      >\r\n        <p className=\"font-family-neue-machina\" style={{ fontWeight: \"bold\" }}>\r\n          <span style={{ fontSize: 160 }}>{minutes}</span>\r\n          <span style={{ fontSize: 160 }}>:{seconds}</span>\r\n          <span style={{ fontSize: 96 }}>:{milliseconds}</span>\r\n        </p>\r\n      </motion.section>\r\n      <motion.section\r\n        style={{ height: \"0vh\" }}\r\n        animate={{ height: \"60vh\" }}\r\n        transition={{ duration: 2, delay: 3 }}\r\n      >\r\n        <div className=\"row equal-width\" style={{ padding: \"2rem 3rem\" }}>\r\n          <Highscore entry={run} />\r\n          <div style={{ paddingLeft: \"4rem\" }}>\r\n            <p style={{ fontSize: \"4rem\", lineHeight: \"5rem\", marginTop: 0 }}>\r\n              Register on the iPad to enter the draft to win a Sonos One!\r\n            </p>\r\n            <Link\r\n              className=\"button row center-content\"\r\n              style={{ display: \"inline-flex\", fontSize: \"5rem\" }}\r\n              to={Path.VIDEOSHOW}\r\n              replace\r\n            >\r\n              <Arrow />\r\n              <span style={{ display: \"inline-block\", marginTop: \"-3px\" }}>\r\n                Next Player\r\n              </span>\r\n            </Link>\r\n          </div>\r\n        </div>\r\n      </motion.section>\r\n    </div>\r\n  );\r\n}\r\n","import { Completed } from \"../../features/game-screen/completed\";\r\n\r\nexport function Finish() {\r\n  return <Completed />;\r\n}\r\n","import { useEffect, useState } from 'react';\r\n\r\nimport { toTimeString } from '../utils/toTimeString';\r\n\r\ninterface Props {\r\n  start: number | null;\r\n  column?: boolean;\r\n}\r\n\r\nexport function TimeDisplay(props: Props): JSX.Element | null {\r\n  const { start, column = false } = props;\r\n  const [, setTick] = useState(0);\r\n\r\n  useEffect(() => {\r\n    if (start === null) {\r\n      return;\r\n    }\r\n\r\n    const interval = setInterval(() => {\r\n      setTick((prev) => prev + 1);\r\n    }, 50);\r\n\r\n    return () => {\r\n      clearInterval(interval);\r\n    };\r\n  }, [start, setTick]);\r\n\r\n  if (start === null) {\r\n    return null;\r\n  }\r\n\r\n  const time = toTimeString(start, Date.now());\r\n\r\n  const [minutes, seconds, milliseconds] = time.split(':');\r\n\r\n  return (\r\n    <p\r\n      className={`center font-family-neue-machina ${column ? 'column' : 'row'}`}\r\n      style={{ fontSize: '8rem' }}\r\n    >\r\n      <span>{minutes}:</span>\r\n      <span>{seconds}:</span>\r\n      <span>{milliseconds}</span>\r\n    </p>\r\n  );\r\n}\r\n","var _path, _path2, _path3, _path4, _path5;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgLogo(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 2228,\n    height: 488,\n    viewBox: \"0 0 2228 488\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M121.74 170.644H202.435V317.356H121.74V366.259H341.682V317.356H261.037V170.644H341.682V121.74H121.74V170.644Z\",\n    fill: \"black\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M556.736 170.644H643.491V366.259H704.587V170.644H791.342V121.74H556.736V170.644Z\",\n    fill: \"black\"\n  })), _path3 || (_path3 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M1451.17 366.259H1512.27V280.678H1617.35V366.259H1678.79L1678.44 268.452H1643.35C1657.98 259.342 1669.25 245.712 1675.44 229.625C1681.64 213.538 1682.43 195.869 1677.7 179.292C1672.97 162.714 1662.97 148.13 1649.21 137.746C1635.46 127.362 1618.7 121.744 1601.47 121.74H1451.17V366.259ZM1589.39 231.383L1512.27 231.774V170.644H1589.39C1593.38 170.644 1597.33 171.43 1601.02 172.958C1604.7 174.485 1608.05 176.724 1610.87 179.546C1613.69 182.369 1615.93 185.719 1617.46 189.407C1618.98 193.094 1619.77 197.046 1619.77 201.038C1619.77 205.029 1618.98 208.981 1617.46 212.669C1615.93 216.357 1613.69 219.707 1610.87 222.529C1608.05 225.352 1604.7 227.591 1601.02 229.118C1597.33 230.645 1593.38 231.432 1589.39 231.432V231.383Z\",\n    fill: \"black\"\n  })), _path4 || (_path4 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M1228.78 317.356H1065.2V268.452H1197.21V219.548H1065.2V170.644H1228.59V121.74H1003.95V170.644H1004.15V366.259H1065.2H1228.78V317.356Z\",\n    fill: \"black\"\n  })), _path5 || (_path5 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M2042.57 121.74H1925.27L1861.73 366.259H1917.94L1938.27 288.013H2029.57L2049.9 366.259H2106.11L2042.57 121.74ZM1950.98 239.109L1973.85 151.083H1993.99L2016.86 239.109H1950.98Z\",\n    fill: \"black\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgLogo);\nexport default __webpack_public_path__ + \"static/media/Logo.15c766bf.svg\";\nexport { ForwardRef as ReactComponent };","import { useLocation, useNavigate } from \"react-router\";\r\n\r\nimport { Path } from \"../../../routes\";\r\nimport { TimeDisplay } from \"../../../components/TimeDisplay\";\r\nimport { toTimeString } from \"../../../utils/toTimeString\";\r\nimport { useLeaderboard } from \"../../../hooks/useLeaderboard\";\r\nimport { useMount } from \"../../../hooks/useMount\";\r\nimport { useState } from \"react\";\r\nimport { useTimer } from \"../../../hooks/useTimer\";\r\n\r\nexport function Ongoing() {\r\n  const location = useLocation();\r\n  const navigate = useNavigate();\r\n  const leaderboard = useLeaderboard();\r\n  const { start: startTimer, stop } = useTimer();\r\n  const [start] = useState(Date.now());\r\n\r\n  const fastest = leaderboard[0];\r\n  const username = location.state.username;\r\n\r\n  useMount(() => {\r\n    startTimer(username, start);\r\n  });\r\n\r\n  function finished() {\r\n    const now = Date.now();\r\n    stop(now).then((elapsed: number) => {\r\n      navigate(Path.FINISH, {\r\n        replace: true,\r\n        state: {\r\n          username: username,\r\n          start: start,\r\n          finish: now,\r\n          elapsed: elapsed,\r\n        },\r\n      });\r\n    });\r\n  }\r\n\r\n  return (\r\n    <div\r\n      className=\"column center-content bg-ivory fill-vh\"\r\n      style={{\r\n        width: \"25vw\",\r\n        minWidth: 480,\r\n        justifyContent: \"space-between\",\r\n      }}\r\n    >\r\n      <section\r\n        className=\"center font-family-neue-machina\"\r\n        style={{ color: \"#606060\", marginTop: \"4rem\" }}\r\n      >\r\n        <h2 style={{ fontSize: \"3rem\", marginTop: 0, marginBottom: \"1rem\" }}>\r\n          Highscore\r\n        </h2>\r\n        {fastest && (\r\n          <p style={{ fontSize: \"4.5rem\", marginTop: \"0rem\" }}>\r\n            {toTimeString(fastest.start, fastest.finish)}\r\n          </p>\r\n        )}\r\n        {!fastest && <p>Pending...</p>}\r\n      </section>\r\n      <TimeDisplay start={start} column />\r\n      <button\r\n        onClick={finished}\r\n        style={{ fontSize: \"5rem\", marginBottom: \"4rem\" }}\r\n      >\r\n        Done\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n","import { Entry /* , User */ } from \"../domain\";\r\nimport { child, get, push, update } from \"firebase/database\";\r\n\r\nimport { useDatabase } from \"./useDatabase\";\r\nimport { useState } from \"react\";\r\nimport { Logger } from \"../features/logging/logger\";\r\n\r\nexport function useTimer() {\r\n  const [logger] = useState(new Logger(\"useTimer\"));\r\n  const { daily, unregistered } = useDatabase();\r\n  const [key, setKey] = useState<string | null>(null);\r\n\r\n  async function start(username: string, startTime: number): Promise<number> {\r\n    logger.trace(\"Starting new timer for user\", username);\r\n    const generatedKey = push(daily).key;\r\n\r\n    if (generatedKey === null) {\r\n      logger.error(\"Failed to generate new key\");\r\n      throw new Error(\"Failed to generate new key\");\r\n    }\r\n\r\n    await update(unregistered, {\r\n      [generatedKey]: {\r\n        username,\r\n        start: startTime,\r\n      },\r\n    });\r\n\r\n    setKey(() => generatedKey);\r\n    logger.info(\r\n      \"Successfully created new entry\",\r\n      `[key=${generatedKey}]`,\r\n      `[time=${startTime}]`\r\n    );\r\n    return startTime;\r\n  }\r\n\r\n  async function stop(stopTime: number): Promise<number> {\r\n    logger.trace(\"Stopping timer for\", key);\r\n    if (key === null) {\r\n      logger.error(\"Stop was invoked without any ongoing runs\", `[key=${key}]`);\r\n      throw new Error(\"Stop was invoked without any ongoing runs\");\r\n    }\r\n\r\n    const ref = child(unregistered, `${key}`);\r\n    const entry = await get(ref);\r\n\r\n    if (!entry.exists()) {\r\n      logger.error(\r\n        \"Unable to find time entry\",\r\n        `[key=${key}]`,\r\n        `[src=${ref.toString()}]`\r\n      );\r\n      setKey(() => null);\r\n      throw new Error(\"Unable to find time entry\");\r\n    }\r\n\r\n    const data = entry.val() as Entry;\r\n\r\n    await update(ref, {\r\n      ...data,\r\n      elapsed: stopTime - data.start,\r\n      finish: stopTime,\r\n    });\r\n\r\n    setKey(() => null);\r\n    logger.info(\r\n      \"Successfully stopped time for entry\",\r\n      `[key=${key}]`,\r\n      `[finish=${stopTime}]`,\r\n      `[elapsed=${stopTime - data.start}]`\r\n    );\r\n    return stopTime - data.start;\r\n  }\r\n\r\n  return {\r\n    start,\r\n    stop,\r\n  };\r\n}\r\n","export function DigTheDigital() {\r\n  return (\r\n    <div className=\"fill-space bg-jade_grid center-content\">\r\n      <h1\r\n        style={{\r\n          fontSize: \"18rem\",\r\n          lineHeight: \"20rem\",\r\n          fontWeight: 700,\r\n          textAlign: \"center\",\r\n        }}\r\n      >\r\n        Dig the digital\r\n      </h1>\r\n    </div>\r\n  );\r\n}\r\n","export function MakeADifference() {\r\n  return (\r\n    <div className=\"fill-space bg-fuschia_grid center-content\">\r\n      <h1\r\n        className=\"font-family-feeling-passionate\"\r\n        style={{\r\n          fontSize: \"15rem\",\r\n          lineHeight: \"20rem\",\r\n          textAlign: \"center\",\r\n        }}\r\n      >\r\n        Make a difference\r\n      </h1>\r\n    </div>\r\n  );\r\n}\r\n","export function AllDataIsBiased() {\r\n  return (\r\n    <div className=\"fill-space bg-sea_grid center-content\">\r\n      <h1\r\n        style={{\r\n          fontSize: \"15rem\",\r\n          lineHeight: \"15rem\",\r\n          fontWeight: 700,\r\n          textAlign: \"center\",\r\n        }}\r\n      >\r\n        All data\r\n        <br />\r\n        is biased\r\n      </h1>\r\n    </div>\r\n  );\r\n}\r\n","export function PeoplePassionPurpose() {\r\n  return (\r\n    <div className=\"fill-space bg-gold_grid center-content\">\r\n      <h1\r\n        className=\"font-family-ibm-plex-sans\"\r\n        style={{\r\n          fontSize: \"15rem\",\r\n          lineHeight: \"15rem\",\r\n          fontWeight: 700,\r\n          textAlign: \"left\",\r\n        }}\r\n      >\r\n        People.\r\n        <br />\r\n        Passion.\r\n        <br />\r\n        Purpose.\r\n        <br />\r\n      </h1>\r\n    </div>\r\n  );\r\n}\r\n","export function HumanSolutions() {\r\n  return (\r\n    <div className=\"fill-space bg-lobster_grid center-content\">\r\n      <h1\r\n        style={{\r\n          fontSize: \"8rem\",\r\n          lineHeight: \"10rem\",\r\n          fontWeight: 700,\r\n          textAlign: \"center\",\r\n        }}\r\n      >\r\n        We find the <br />\r\n        human solutions\r\n        <br />\r\n        to complex\r\n        <br />\r\n        challenges\r\n      </h1>\r\n    </div>\r\n  );\r\n}\r\n","export function ScrumIsYum() {\r\n  return (\r\n    <div className=\"fill-space bg-ivory_grid center-content\">\r\n      <h1\r\n        style={{\r\n          fontSize: \"20rem\",\r\n          lineHeight: \"25rem\",\r\n          fontWeight: 700,\r\n          textAlign: \"center\",\r\n        }}\r\n      >\r\n        Scrum\r\n        <br />\r\n        is Yum\r\n      </h1>\r\n    </div>\r\n  );\r\n}\r\n","import { DigTheDigital } from \"./DigTheDigital\";\r\nimport { MakeADifference } from \"./MakeADifference\";\r\nimport { AllDataIsBiased } from \"./AllDataIsBiased\";\r\nimport { PeoplePassionPurpose } from \"./PeoplePassionPurpose\";\r\nimport { HumanSolutions } from \"./HumanSolutions\";\r\nimport { ScrumIsYum } from \"./ScrumIsYum\";\r\nimport { Fragment, useState } from \"react\";\r\nimport { useMount } from \"../../../hooks/useMount\";\r\n\r\nfunction getRandomInt(max: number): number {\r\n  return Math.floor(Math.random() * max);\r\n}\r\n\r\nexport function Quotes() {\r\n  const [current, setCurrent] = useState(0);\r\n\r\n  const quotes = [\r\n    <DigTheDigital />,\r\n    <MakeADifference />,\r\n    <AllDataIsBiased />,\r\n    <PeoplePassionPurpose />,\r\n    <HumanSolutions />,\r\n    <ScrumIsYum />,\r\n  ];\r\n\r\n  useMount(() => {\r\n    setCurrent(() => getRandomInt(quotes.length));\r\n  });\r\n\r\n  return (\r\n    <div style={{ maxWidth: \"75vw\", width: \"100%\" }}>\r\n      {quotes\r\n        .filter((_, index) => index === current)\r\n        .map((quote, index) => (\r\n          <Fragment key={index}>{quote}</Fragment>\r\n        ))}\r\n    </div>\r\n  );\r\n}\r\n","import { AnimatePresence, motion } from \"framer-motion\";\r\nimport { Ongoing, Quotes } from \"../../features/game-screen/ongoing\";\r\n\r\nexport function Game() {\r\n  return (\r\n    <div>\r\n      <AnimatePresence>\r\n        <motion.div\r\n          className=\"bg-lobster color-gold fill-screen center-content\"\r\n          style={{\r\n            position: \"fixed\",\r\n            top: 0,\r\n            left: 0,\r\n          }}\r\n          initial={{\r\n            top: 0,\r\n            left: 0,\r\n          }}\r\n          animate={{\r\n            left: \"200vw\",\r\n          }}\r\n          transition={{ delay: 1, duration: 0.25 }}\r\n        >\r\n          <h1 style={{ fontSize: \"25rem\", fontWeight: 700 }}>Build!</h1>\r\n        </motion.div>\r\n      </AnimatePresence>\r\n      <div className=\"row fill-screen\">\r\n        <Quotes />\r\n        <Ongoing />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import { Link } from 'react-router-dom';\r\nimport { Path } from '../routes';\r\n\r\nexport function Home() {\r\n  return (\r\n    <>\r\n      <h1>Navigation links</h1>\r\n      <Link to={Path.VIDEOSHOW}>Game</Link>\r\n      <Link to={Path.UNREGISTERED}>Registration</Link>\r\n      <Link to={Path.LOGIN}>Sign In</Link>\r\n    </>\r\n  );\r\n}\r\n","import { ReactComponent } from \"../statics/svgs/Logo.svg\";\r\n\r\nexport function Logo() {\r\n  return (\r\n    <ReactComponent\r\n      style={{ position: \"fixed\", top: \"2rem\", left: \"1rem\" }}\r\n      width=\"10rem\"\r\n      height=\"20px\"\r\n    />\r\n  );\r\n}\r\n","export default __webpack_public_path__ + \"static/media/Sonos.d67e50ca.png\";","import { Link } from \"react-router-dom\";\r\nimport { Logo } from \"../components/Logo\";\r\nimport { Path } from \"../routes\";\r\n\r\nimport PriceImage from \"../statics/images/Sonos.png\";\r\n\r\nexport function Profile() {\r\n  return (\r\n    <div style={{ padding: \"2rem 3rem\" }}>\r\n      <Logo />\r\n      <h1\r\n        style={{\r\n          fontSize: \"5.25rem\",\r\n          lineHeight: \"5rem\",\r\n          color: \"rgb(0, 41, 255)\",\r\n        }}\r\n      >\r\n        Your score is registered!\r\n      </h1>\r\n      <p\r\n        style={{\r\n          fontSize: \"1.75rem\",\r\n          lineHeight: \"3rem\",\r\n        }}\r\n      >\r\n        We will contact the winner after the conference.\r\n      </p>\r\n      <img src={PriceImage} style={{ maxWidth: \"100%\" }} />\r\n      <Link to={Path.UNREGISTERED} className=\"button\">\r\n        Back to the list\r\n      </Link>\r\n    </div>\r\n  );\r\n}\r\n","import { useCallback, useState } from 'react';\r\nimport { Logger } from '../features/logging/logger';\r\n\r\nexport function useAsync(f: (...args: any[]) => Promise<unknown>) {\r\n  const [logger] = useState(new Logger('useAsync'));\r\n  const [loading, setLoading] = useState(false);\r\n  const [result, setResult] = useState<unknown | null>(null);\r\n  const [error, setError] = useState<unknown | null>(null);\r\n\r\n  const callback = useCallback(\r\n    (...args: any[]): Promise<unknown> => {\r\n      logger.trace('Async callback invoked');\r\n      setLoading(() => true);\r\n      setError(() => null);\r\n\r\n      return f(...args)\r\n        .then((res) => {\r\n          logger.debug('Successfully invoked async callback');\r\n          setResult(res);\r\n        })\r\n        .catch((err) => {\r\n          logger.error(\r\n            'Encountered an error while executing async callback',\r\n            err\r\n          );\r\n          setError(err);\r\n        })\r\n        .finally(() => {\r\n          logger.debug('Setting loading flag to \"false\"');\r\n          setLoading(() => false);\r\n        });\r\n    },\r\n    [f, logger]\r\n  );\r\n\r\n  return {\r\n    callback,\r\n    loading,\r\n    error,\r\n    result,\r\n  };\r\n}\r\n","import { DatabaseReference, child, remove, update } from '@firebase/database';\r\nimport { User, signInWithEmailAndPassword } from 'firebase/auth';\r\n\r\nimport { Logger } from '../features/logging/logger';\r\nimport { useDatabase } from './useDatabase';\r\nimport { useFirebase } from '../features/firebase/FirebaseProvider';\r\nimport { useState } from 'react';\r\n\r\nasync function addUserToCollection(\r\n  db: DatabaseReference,\r\n  email: string,\r\n  name: string,\r\n  phone: string,\r\n  consent: boolean,\r\n  username: string,\r\n  logger: Logger,\r\n): Promise<void> {\r\n  logger.trace('Creating a document entry for user', `[uid=${phone}]`);\r\n  const documentRef = child(db, `/${phone}`);\r\n  await update(documentRef, {\r\n    email,\r\n    name,\r\n    phone,\r\n    consent,\r\n    username,\r\n    createdAt: Date.now(),\r\n  });\r\n}\r\n\r\nasync function removeFromUnregistered(\r\n  db: DatabaseReference,\r\n  entry: string,\r\n  logger: Logger,\r\n): Promise<void> {\r\n  logger.trace('Removing from Unregistered', `[entry=${entry}]`);\r\n  const documentRef = child(db, `/${entry}`);\r\n  await remove(documentRef);\r\n}\r\n\r\nexport function useAuth() {\r\n  const [logger] = useState(new Logger('useAuth'));\r\n  const { users, unregistered } = useDatabase();\r\n  const { auth } = useFirebase();\r\n\r\n  async function addUser(\r\n    name: string,\r\n    phone: string,\r\n    email: string,\r\n    consent: boolean,\r\n    entry: string,\r\n    username: string,\r\n  ): Promise<null | User> {\r\n    logger.trace('Adding new user');\r\n    await addUserToCollection(\r\n      users,\r\n      email,\r\n      name,\r\n      phone,\r\n      consent,\r\n      username,\r\n      logger,\r\n    );\r\n\r\n    logger.info('Successfully created new user', `[uid=${phone}]`);\r\n\r\n    await removeFromUnregistered(unregistered, entry, logger);\r\n    logger.info(\r\n      'Successfully removed user from unregistered',\r\n      `[uid=${entry}]`,\r\n    );\r\n\r\n    return null;\r\n  }\r\n\r\n  async function signIn(email: string, password: string): Promise<User> {\r\n    logger.trace('Signing in user');\r\n    const credentials = await signInWithEmailAndPassword(auth, email, password);\r\n\r\n    logger.info('Signed in user', `[uid=${credentials.user.uid}]`);\r\n    return credentials.user;\r\n  }\r\n\r\n  return {\r\n    addUser,\r\n    signIn,\r\n  };\r\n}\r\n","import { FormEvent, useEffect, useState } from \"react\";\r\n\r\nimport { FirebaseError } from \"@firebase/util\";\r\nimport { Path } from \"../../routes\";\r\nimport { useAsync } from \"../../hooks/useAsync\";\r\nimport { useAuth } from \"../../hooks/useAuth\";\r\nimport { useNavigate } from \"react-router\";\r\n\r\nexport function SignIn() {\r\n  const navigate = useNavigate();\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n\r\n  const { signIn } = useAuth();\r\n  const { callback, loading, error, result } = useAsync(signIn);\r\n\r\n  function submitHandler(event: FormEvent) {\r\n    event.preventDefault();\r\n    callback(email, password);\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (result !== null) {\r\n      navigate(Path.VIDEOSHOW, { replace: true });\r\n    }\r\n  }, [navigate, result]);\r\n\r\n  return (\r\n    <>\r\n      <h1>Login</h1>\r\n      <form onSubmit={submitHandler}>\r\n        <input\r\n          type=\"email\"\r\n          placeholder=\"email\"\r\n          value={email}\r\n          onChange={(event) => setEmail(event.currentTarget.value)}\r\n          required\r\n        />\r\n        <input\r\n          type=\"password\"\r\n          placeholder=\"password\"\r\n          value={password}\r\n          onChange={(event) => setPassword(event.currentTarget.value)}\r\n          required\r\n        />\r\n        <button type=\"submit\" disabled={loading}>\r\n          Sign In\r\n        </button>\r\n\r\n        {error !== null && <p>{(error as FirebaseError).code}</p>}\r\n      </form>\r\n    </>\r\n  );\r\n}\r\n","import { useLocation, useNavigate } from \"react-router\";\r\n\r\nimport { FirebaseError } from \"@firebase/util\";\r\nimport { Path } from \"../../routes\";\r\nimport { UnregisteredEntry } from \"../../hooks/useUnregistered\";\r\nimport { push } from \"@firebase/database\";\r\nimport { toTimeString } from \"../../utils/toTimeString\";\r\nimport { useAsync } from \"../../hooks/useAsync\";\r\nimport { useAuth } from \"../../hooks/useAuth\";\r\nimport { useDatabase } from \"../../hooks/useDatabase\";\r\nimport { useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Logo } from \"../../components/Logo\";\r\n\r\nexport function SignUp() {\r\n  const navigate = useNavigate();\r\n  const [name, setName] = useState(\"\");\r\n  const [phone, setPhone] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n  const [consent, setConsent] = useState(false);\r\n  const location = useLocation();\r\n  const { uid, username, start, finish, elapsed } =\r\n    location.state as UnregisteredEntry;\r\n\r\n  const { addUser } = useAuth();\r\n  const { daily } = useDatabase();\r\n  const { callback, loading, error } = useAsync(addUser);\r\n\r\n  function submitHandler(event: React.FormEvent<HTMLFormElement>) {\r\n    event.preventDefault();\r\n    callback(name, phone, email, consent, uid, username).then(() => {\r\n      push(daily, {\r\n        start,\r\n        finish,\r\n        elapsed,\r\n        name,\r\n        username,\r\n        phone,\r\n        email,\r\n        consent,\r\n      }).then(() => {\r\n        navigate(Path.USER, { replace: true });\r\n      });\r\n    });\r\n  }\r\n\r\n  const [minutes, seconds, milliseconds] = toTimeString(start, finish).split(\r\n    \":\"\r\n  );\r\n\r\n  return (\r\n    <div style={{ padding: \"2rem 3rem\" }}>\r\n      <Logo />\r\n      <Link\r\n        to={Path.UNREGISTERED}\r\n        style={{\r\n          textDecoration: \"none\",\r\n          position: \"fixed\",\r\n          top: \"2rem\",\r\n          right: \"2rem\",\r\n          fontSize: \"2rem\",\r\n          color: \"black\",\r\n        }}\r\n      >\r\n        X\r\n      </Link>\r\n      <h1\r\n        className=\"inset-dot\"\r\n        style={{\r\n          display: \"flex\",\r\n          justifyContent: \"space-between\",\r\n          color: \"#000\",\r\n          fontSize: \"2.875rem\",\r\n        }}\r\n      >\r\n        <span>{username}</span>\r\n        <span>\r\n          <span>{minutes}:</span>\r\n          <span>{seconds}:</span>\r\n          <span style={{ fontSize: \"2rem\" }}>{milliseconds}</span>\r\n        </span>\r\n      </h1>\r\n      <form onSubmit={submitHandler}>\r\n        <div className=\"column\">\r\n          <label htmlFor=\"name\">Name</label>\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"Your full name\"\r\n            id=\"name\"\r\n            value={name}\r\n            onChange={(event) => setName(event.currentTarget.value)}\r\n            required\r\n          />\r\n        </div>\r\n        <div className=\"column\">\r\n          <label htmlFor=\"phone\">Phone number</label>\r\n          <input\r\n            type=\"tel\"\r\n            placeholder=\"Your phone number\"\r\n            id=\"phone\"\r\n            value={phone}\r\n            onChange={(event) => setPhone(event.currentTarget.value)}\r\n            required\r\n          />\r\n        </div>\r\n        <div className=\"column\">\r\n          <label htmlFor=\"email\">Email</label>\r\n          <input\r\n            id=\"email\"\r\n            type=\"email\"\r\n            placeholder=\"Your e-mail\"\r\n            value={email}\r\n            onChange={(event) => setEmail(event.target.value)}\r\n            required\r\n          />\r\n        </div>\r\n        <div>\r\n          <input\r\n            type=\"checkbox\"\r\n            id=\"consent\"\r\n            checked={consent}\r\n            onChange={(event) => setConsent(event.currentTarget.checked)}\r\n          />\r\n          <label htmlFor=\"consent\">\r\n            <span></span>I wish to keep in contact with Itera through email\r\n          </label>\r\n        </div>\r\n        <button type=\"submit\" disabled={loading}>\r\n          Register my score\r\n        </button>\r\n        {error !== null && <p>{(error as FirebaseError).code}</p>}\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n","import { Entry } from \"../domain\";\r\nimport { onValue } from \"firebase/database\";\r\nimport { useDatabase } from \"./useDatabase\";\r\nimport { useMount } from \"./useMount\";\r\nimport { useState } from \"react\";\r\nimport { Logger } from \"../features/logging/logger\";\r\n\r\nexport interface UnregisteredEntry extends Entry {\r\n  uid: string;\r\n}\r\n\r\nexport function useUnregistered() {\r\n  const [logger] = useState(new Logger(\"useUnregistered\"));\r\n  const { unregistered } = useDatabase();\r\n  const [unregisteredList, setUnregisteredList] = useState<\r\n    Array<UnregisteredEntry>\r\n  >([]);\r\n  const [ongoing, setOngoing] = useState<Array<UnregisteredEntry>>([]);\r\n\r\n  function attachObserver() {\r\n    logger.trace(\r\n      \"Attaching listener to unregistered document\",\r\n      unregistered.toString()\r\n    );\r\n    onValue(unregistered, (snapshot) => {\r\n      if (!snapshot.exists()) {\r\n        logger.warn(\"Found no data on\", `[src=${unregistered.toString()}]`);\r\n        return;\r\n      }\r\n\r\n      const data = snapshot.val();\r\n      const entries = Object.entries(data).map(\r\n        ([key, entry]): UnregisteredEntry => ({\r\n          uid: key,\r\n          ...(entry as Entry),\r\n        })\r\n      );\r\n\r\n      const ongoing = entries.filter((entry) => entry.finish === undefined);\r\n      const finished = entries.filter((entry) => entry.finish !== undefined);\r\n\r\n      logger.info(\r\n        \"found\",\r\n        `[ongoing=${ongoing.length}]`,\r\n        \"and\",\r\n        `[finished=${finished.length}]`\r\n      );\r\n\r\n      setUnregisteredList(() => finished);\r\n      setOngoing(() => ongoing);\r\n    });\r\n  }\r\n\r\n  useMount(() => {\r\n    attachObserver();\r\n  });\r\n\r\n  return {\r\n    unregistered: unregisteredList,\r\n    ongoing,\r\n  };\r\n}\r\n","import { AnimatePresence, motion } from \"framer-motion\";\r\n\r\nimport { Link } from \"react-router-dom\";\r\nimport { Path } from \"../../routes\";\r\nimport { toTimeString } from \"../../utils/toTimeString\";\r\nimport { useMount } from \"../../hooks/useMount\";\r\nimport { useState } from \"react\";\r\nimport { useUnregistered } from \"../../hooks/useUnregistered\";\r\nimport { Logo } from \"../../components/Logo\";\r\n\r\nfunction Timer(props: { start: number }) {\r\n  const [, setTick] = useState(0);\r\n\r\n  useMount(() => {\r\n    const timer = setInterval(() => {\r\n      setTick((prev) => prev + 1);\r\n    }, 100);\r\n\r\n    return () => {\r\n      clearInterval(timer);\r\n    };\r\n  });\r\n\r\n  const [minutes, seconds, milliseconds] = toTimeString(\r\n    props.start,\r\n    Date.now()\r\n  ).split(\":\");\r\n\r\n  return (\r\n    <p className=\"column font-family-neue-machina center-content\">\r\n      <span>{minutes}:</span>\r\n      <span>{seconds}:</span>\r\n      <span>{milliseconds}</span>\r\n    </p>\r\n  );\r\n}\r\n\r\nexport function Unregistered() {\r\n  const { unregistered, ongoing } = useUnregistered();\r\n\r\n  return (\r\n    <div style={{ padding: \"2rem 3rem\" }}>\r\n      <Logo />\r\n      <h1\r\n        style={{\r\n          fontSize: \"5.25rem\",\r\n          lineHeight: \"5rem\",\r\n          color: \"rgb(0, 41, 255)\",\r\n        }}\r\n      >\r\n        Register your score!\r\n      </h1>\r\n      <p\r\n        style={{\r\n          fontSize: \"1.75rem\",\r\n          lineHeight: \"3rem\",\r\n        }}\r\n      >\r\n        Select your username to register for a chance to win a Sonos One!\r\n      </p>\r\n      <ul>\r\n        {unregistered\r\n          .sort((a, b) => b.start - a.start)\r\n          .map((entry) => (\r\n            <li key={entry.uid}>\r\n              <Link\r\n                to={Path.REGISTRATION}\r\n                state={entry}\r\n                style={{ color: \"rgb(0, 41, 255)\", textDecoration: \"none\" }}\r\n              >\r\n                {entry.username}\r\n              </Link>\r\n            </li>\r\n          ))}\r\n      </ul>\r\n\r\n      <AnimatePresence>\r\n        {ongoing.length > 0 && (\r\n          <motion.div\r\n            style={{\r\n              display: \"inline-block\",\r\n              position: \"fixed\",\r\n              top: 0,\r\n              right: 0,\r\n              color: \"#fff\",\r\n              backgroundColor: \"rgb(0, 41, 255)\",\r\n              padding: \"0.5rem 1rem\",\r\n              fontSize: \"1.75rem\",\r\n              minWidth: 90,\r\n            }}\r\n            initial={{\r\n              right: -200,\r\n            }}\r\n            animate={{\r\n              right: 0,\r\n            }}\r\n            exit={{ right: -200 }}\r\n            transition={{ duration: 0.3 }}\r\n          >\r\n            <Timer start={ongoing[0].start} />\r\n          </motion.div>\r\n        )}\r\n      </AnimatePresence>\r\n    </div>\r\n  );\r\n}\r\n","import { Link } from \"react-router-dom\";\r\nimport { Arrow } from \"../../../components/Arrow\";\r\nimport { Path } from \"../../../routes\";\r\n\r\ninterface Props {\r\n  readonly username: string;\r\n}\r\n\r\nexport function Explanation(props: Props) {\r\n  return (\r\n    <div style={{ padding: \"0 0 4rem 0\", width: \"60vw\" }}>\r\n      <p style={{ fontSize: 45, lineHeight: 2 }}>\r\n        Use the cubes on the ground to build the image that pops up on this\r\n        screen.\r\n      </p>\r\n      <p style={{ fontSize: 45, lineHeight: 2 }}>\r\n        Touch \"DONE\" when you are finished to stop the timer\r\n      </p>\r\n\r\n      <Link\r\n        to={Path.COUNTDOWN}\r\n        className=\"button row center-content\"\r\n        style={{\r\n          display: \"inline-flex\",\r\n          fontSize: \"5rem\",\r\n          pointerEvents: props.username.length !== 3 ? \"none\" : undefined,\r\n          backgroundColor: props.username.length !== 3 ? \"#B8BAC6\" : undefined,\r\n        }}\r\n        state={props.username}\r\n        replace\r\n      >\r\n        <Arrow />\r\n        <span style={{ display: \"inline-block\", marginTop: \"-3px\" }}>\r\n          Start Game\r\n        </span>\r\n      </Link>\r\n    </div>\r\n  );\r\n}\r\n","import { useState } from \"react\";\r\nimport SimpleKeyboard from \"react-simple-keyboard\";\r\nimport \"react-simple-keyboard/build/css/index.css\";\r\n\r\ninterface Props {\r\n  onChange?: (value: string) => void;\r\n}\r\n\r\nexport function Keyboard(props: Props) {\r\n  const [value, setValue] = useState(\"\");\r\n\r\n  function onKeyPress(input: any) {\r\n    let newValue = value;\r\n\r\n    if (input === \"{bksp}\") {\r\n      newValue = newValue.slice(0, -1);\r\n    } else {\r\n      newValue = value + input;\r\n    }\r\n\r\n    newValue = newValue.slice(0, 3);\r\n\r\n    if (props.onChange) {\r\n      props.onChange(newValue);\r\n    }\r\n\r\n    setValue(() => newValue);\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <SimpleKeyboard\r\n        onKeyPress={onKeyPress}\r\n        layout={{\r\n          default: [\r\n            \"Q W E R T Y U I O P Å\",\r\n            \"A S D F G H J K L Ø Æ\",\r\n            \"Z X C V B N M {bksp}\",\r\n          ],\r\n        }}\r\n        display={{\r\n          \"{bksp}\": \"←\",\r\n        }}\r\n      />\r\n    </>\r\n  );\r\n}\r\n","interface Props {\r\n  readonly src: string;\r\n  readonly letter: string;\r\n}\r\n\r\nexport function Cube(props: Props) {\r\n  return (\r\n    <div style={{ position: \"relative\" }}>\r\n      <img\r\n        src={props.src}\r\n        alt=\"\"\r\n        style={{\r\n          height: 175,\r\n          width: 175,\r\n        }}\r\n      />\r\n      <span\r\n        style={{\r\n          display: \"flex\",\r\n          alignItems: \"center\",\r\n          justifyContent: \"center\",\r\n          lineHeight: \"0.25rem\",\r\n          fontSize: \"5rem\",\r\n          marginTop: \"-4.5rem\",\r\n          marginBottom: \"4rem\",\r\n          marginLeft: \"-2.25rem\",\r\n          zIndex: 2,\r\n        }}\r\n      >\r\n        {props.letter ? props.letter : <span style={{ color: \"#fff\" }}>H</span>}\r\n      </span>\r\n    </div>\r\n  );\r\n}\r\n","export default __webpack_public_path__ + \"static/media/Kube1.371947f1.svg\";","export default __webpack_public_path__ + \"static/media/Kube2.ef4d286f.svg\";","export default __webpack_public_path__ + \"static/media/Kube3.7d3e9fec.svg\";","import { Keyboard } from \"./Keyboard\";\r\nimport { Cube } from \"./Cube\";\r\n\r\nimport cubeOne from \"../../../statics/svgs/Kube1.svg\";\r\nimport cubeTwo from \"../../../statics/svgs/Kube2.svg\";\r\nimport cubeThree from \"../../../statics/svgs/Kube3.svg\";\r\n\r\ninterface Props {\r\n  readonly username: string;\r\n  readonly onChange: (value: string) => void;\r\n}\r\n\r\nexport function UserNickname(props: Props) {\r\n  const { username, onChange } = props;\r\n\r\n  return (\r\n    <div\r\n      className=\"column center-content\"\r\n      style={{\r\n        padding: \"0 0 0 2rem\",\r\n        width: \"40vw\",\r\n        justifyContent: \"flex-start\",\r\n      }}\r\n    >\r\n      <h2 style={{ fontSize: \"3rem\", marginBottom: \"2rem\" }}>Your nickname:</h2>\r\n      <div className=\"row\" style={{ marginBottom: \"8rem\" }}>\r\n        <Cube src={cubeOne} letter={username.slice(0, 1)} />\r\n        <Cube src={cubeTwo} letter={username.slice(1, 2)} />\r\n        <Cube src={cubeThree} letter={username.slice(2, 3)} />\r\n      </div>\r\n      <Keyboard onChange={(value) => onChange(value)} />\r\n    </div>\r\n  );\r\n}\r\n","import { useState } from \"react\";\r\nimport {\r\n  Explanation,\r\n  UserNickname,\r\n} from \"../../features/game-screen/explanation\";\r\n\r\nexport function UserRegistration() {\r\n  const [username, setUsername] = useState(\"\");\r\n\r\n  return (\r\n    <div>\r\n      <h1 style={{ fontSize: 94, marginLeft: \"4rem\" }}>Build Itera with us!</h1>\r\n      <div className=\"row fill-screen\" style={{ padding: \"0 8rem 4rem 4rem\" }}>\r\n        <Explanation username={username} />\r\n        <UserNickname\r\n          username={username}\r\n          onChange={(value) => setUsername(() => value)}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","export default __webpack_public_path__ + \"static/media/bricks.9f645405.png\";","import { Route, Routes, useLocation, useNavigate } from 'react-router';\r\n\r\nimport { Countdown } from '../pages/game/Countdown';\r\nimport { Finish } from '../pages/game/Finish';\r\nimport { Game } from '../pages/game/Game';\r\nimport { Home } from '../pages';\r\nimport { Profile } from '../pages/Profile';\r\nimport { SignIn } from '../pages/auth/SignIn';\r\nimport { SignUp } from '../pages/auth/SignUp';\r\nimport { Unregistered } from '../features/firebase/Unregistered';\r\nimport { UserRegistration } from '../pages/game/UserRegistration';\r\nimport { VideoShow } from '../pages/game/VideoShow';\r\nimport { useEffect } from 'react';\r\nimport { useFirebase } from '../features/firebase/FirebaseProvider';\r\n\r\nexport enum Path {\r\n  HOME = '/',\r\n  USER = '/profile',\r\n  UNREGISTERED = '/unregistered',\r\n\r\n  VIDEOSHOW = '/game/videoshow',\r\n  EXPLANATION = '/game/explanation',\r\n  COUNTDOWN = '/game/countdown',\r\n  GAME = '/game/timer',\r\n  FINISH = '/game/finish',\r\n\r\n  REGISTRATION = '/auth/sign-up',\r\n  LOGIN = '/auth/sign-in',\r\n}\r\n\r\nfunction AuthenticationBlocker() {\r\n  const location = useLocation();\r\n  const navigate = useNavigate();\r\n  const { auth } = useFirebase();\r\n\r\n  useEffect(() => {\r\n    const isAuthenticated = auth.currentUser !== null;\r\n    if (location.pathname !== Path.LOGIN && !isAuthenticated) {\r\n      navigate(Path.LOGIN);\r\n    }\r\n  }, [location.pathname, auth, navigate]);\r\n\r\n  return null;\r\n}\r\n\r\nexport function Router() {\r\n  return (\r\n    <>\r\n      <Routes>\r\n        <Route path={Path.HOME} element={<Home />} />\r\n        <Route path={Path.USER} element={<Profile />} />\r\n        <Route path={Path.UNREGISTERED} element={<Unregistered />} />\r\n\r\n        <Route path={Path.VIDEOSHOW} element={<VideoShow />} />\r\n        <Route path={Path.EXPLANATION} element={<UserRegistration />} />\r\n        <Route path={Path.COUNTDOWN} element={<Countdown />} />\r\n        <Route path={Path.GAME} element={<Game />} />\r\n        <Route path={Path.FINISH} element={<Finish />} />\r\n\r\n        <Route path={Path.REGISTRATION} element={<SignUp />} />\r\n        <Route path={Path.LOGIN} element={<SignIn />} />\r\n      </Routes>\r\n      <AuthenticationBlocker />\r\n    </>\r\n  );\r\n}\r\n","export default __webpack_public_path__ + \"static/media/StandVideo.14230d9e.mp4\";","import { Arrow } from '../../components/Arrow';\r\nimport { Link } from 'react-router-dom';\r\nimport { Path } from '../../routes';\r\nimport bricks from '../../statics/images/bricks.png';\r\nimport standVideo from '../../statics/videos/StandVideo.mp4';\r\nimport { toTimeString } from '../../utils/toTimeString';\r\nimport { useLeaderboard } from '../../hooks/useLeaderboard';\r\n\r\nexport function VideoShow() {\r\n  const leaderboard = useLeaderboard();\r\n  const topThree = leaderboard.slice(0, 3);\r\n\r\n  return (\r\n    <div className=\"fill-screen bg-midnight\" style={{ position: 'relative' }}>\r\n      <div\r\n        className=\"row fill-vw\"\r\n        style={{ justifyContent: 'flex-end', paddingTop: '10vh' }}\r\n      >\r\n        <section\r\n          className=\"bg-ivory\"\r\n          style={{\r\n            width: '33vw',\r\n            padding: '2rem',\r\n            clipPath:\r\n              'polygon(0 0, 100% 0, 100% 100%, 35% 100%, 35% 65%, 0 65%)',\r\n            marginTop: '-8vh',\r\n          }}\r\n        >\r\n          <span style={{ fontSize: '2.5rem' }}>Build and win a Sonos One</span>\r\n          <h1>Build Itera with us?</h1>\r\n          <img\r\n            src={bricks}\r\n            style={{\r\n              float: 'right',\r\n              filter: 'grayscale(100%)',\r\n              marginTop: '25vh',\r\n              transform: 'scale(1.25)',\r\n              marginRight: '3vw',\r\n            }}\r\n          />\r\n        </section>\r\n        <video\r\n          autoPlay\r\n          loop\r\n          muted\r\n          style={{ position: 'relative', width: '65vw' }}\r\n        >\r\n          <source src={standVideo} type=\"video/mp4\" />\r\n          Your browser does not support the video tag.\r\n        </video>\r\n      </div>\r\n      <div\r\n        style={{\r\n          display: 'flex',\r\n          alignItems: 'stretch',\r\n          justifyContent: 'flex-end',\r\n        }}\r\n      >\r\n        {topThree.length > 0 && (\r\n          <ol\r\n            className=\"bg-ivory\"\r\n            style={{\r\n              padding: 24,\r\n              margin: 0,\r\n            }}\r\n          >\r\n            {topThree.map((entry, index) => (\r\n              <li\r\n                key={entry.start}\r\n                style={{\r\n                  display: 'flex',\r\n                  justifyContent: 'space-between',\r\n                  fontFamily: 'Neue Machina',\r\n                  fontWeight: '600',\r\n                  fontSize: 32,\r\n                }}\r\n              >\r\n                <span>{index + 1}.</span>\r\n                <span>{entry.username}</span>\r\n                <span>-</span>\r\n                <span>{toTimeString(entry.start, entry.finish)}</span>\r\n              </li>\r\n            ))}\r\n          </ol>\r\n        )}\r\n        <Link\r\n          to={Path.EXPLANATION}\r\n          className=\"bg-ivory button row center-content\"\r\n          style={{\r\n            display: 'inline-flex',\r\n            fontSize: '5rem',\r\n            backgroundColor: '#EEEDE4',\r\n            color: 'black',\r\n            float: 'right',\r\n          }}\r\n          replace\r\n        >\r\n          <Arrow color=\"black\" />\r\n          <span style={{ display: 'inline-block', marginTop: '-3px' }}>\r\n            PLAY GAME\r\n          </span>\r\n        </Link>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import { Router } from './routes';\r\n\r\nfunction App() {\r\n  return (\r\n    <main>\r\n      <Router />\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import { ReportHandler } from 'web-vitals';\r\n\r\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import App from \"./App\";\r\nimport { HashRouter } from \"react-router-dom\";\r\nimport { FirebaseProvider } from \"./features/firebase/FirebaseProvider\";\r\nimport React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport reportWebVitals from \"./reportWebVitals\";\r\n\r\nimport \"normalize.css\";\r\nimport \"./index.css\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <HashRouter>\r\n      <FirebaseProvider>\r\n        <App />\r\n      </FirebaseProvider>\r\n    </HashRouter>\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}