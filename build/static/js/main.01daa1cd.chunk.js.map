{"version":3,"sources":["features/config/Config.ts","hooks/useMount.ts","components/Loader.tsx","features/firebase/FirebaseProvider.tsx","routes/RouteListener.tsx","features/game-screen/countdown/Count.tsx","features/game-screen/countdown/Countdown.tsx","pages/game/Countdown.tsx","domain.ts","utils/toTimeString.ts","hooks/useDatabase.ts","features/logging/logger.ts","hooks/useLeaderboard.ts","features/game-screen/completed/Highscore.tsx","features/game-screen/completed/Completed.tsx","pages/game/Finish.tsx","components/TimeDisplay.tsx","features/game-screen/ongoing/Ongoing.tsx","hooks/useTimer.ts","pages/game/Game.tsx","pages/index.tsx","pages/Profile.tsx","hooks/useAsync.ts","hooks/useAuth.ts","pages/auth/SignIn.tsx","pages/auth/SignUp.tsx","hooks/useUnregistered.ts","features/firebase/Unregistered.tsx","features/game-screen/explanation/Explanation.tsx","features/game-screen/explanation/Keyboard.tsx","features/game-screen/explanation/Cube.tsx","statics/images/cube_yellow.png","routes/index.tsx","statics/images/cube_purple.png","statics/images/cube_red.png","features/game-screen/explanation/UserNickname.tsx","pages/game/UserRegistration.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["Config","config","getConfig","firebase","features","useMount","f","useEffect","logging","apiKey","appId","authDomain","databaseURL","measurementId","messagingSenderId","projectId","storageBucket","Loader","props","init","children","useState","loading","setLoading","then","firebaseContext","createContext","FirebaseProvider","initializeApp","getFirebaseConfig","app","getAnalytics","analytics","getDatabase","db","getAuth","auth","a","get","ref","snapshot","val","data","date","Date","today","getFullYear","getMonth","getDate","undefined","set","createdAt","now","console","error","Provider","value","useFirebase","context","useContext","Error","RouteListener","location","useLocation","logEvent","page_path","pathname","Count","duration","delay","number","rest","motion","div","transition","initial","translateX","animate","exit","style","zIndex","fontSize","Countdown","AnimatePresence","className","DELAY","navigate","useNavigate","timer","setTimeout","Path","GAME","replace","state","username","clearTimeout","DatabasePath","pad","length","toString","padStart","toTimeString","start","finish","time","minutes","getMinutes","seconds","getSeconds","milliseconds","getMilliseconds","slice","useDatabase","root","leaderboard","LEADERBOARD","daily","ENTRY","users","USERS","unregistered","UNREGISTERED","Logger","name","level","this","logLevel","getFeatures","indexOf","message","trace","debug","info","warn","useLeaderboard","logger","setLeaderboard","attachObserver","onValue","exists","entries","finished","filter","entry","hasOwnProperty","sort","b","elapsed","updateStandings","Object","values","Highscore","withRecentRun","highlight","fastest","fontWeight","lineHeight","id","display","overflow","maxHeight","scrollbarWidth","map","index","Completed","run","split","section","height","padding","to","EXPLANATION","Finish","TimeDisplay","column","setTick","interval","setInterval","prev","clearInterval","Ongoing","key","setKey","startTime","generatedKey","push","update","stopTime","child","stop","useTimer","startTimer","log","flexGrow","onClick","FINISH","Game","Home","LOGIN","Profile","color","useAsync","result","setResult","setError","callback","useCallback","res","catch","err","finally","addUserToCollection","email","phone","consent","documentRef","removeFromUnregistered","remove","useAuth","password","signInWithEmailAndPassword","credentials","user","uid","addUser","signIn","SignIn","setEmail","setPassword","USER","onSubmit","event","preventDefault","type","placeholder","onChange","currentTarget","required","disabled","code","SignUp","setName","setPhone","setConsent","justifyContent","htmlFor","target","checked","useUnregistered","unregisteredList","setUnregisteredList","ongoing","setOngoing","Timer","Unregistered","REGISTRATION","textDecoration","position","top","right","backgroundColor","minWidth","Explanation","margin","COUNTDOWN","Keyboard","setValue","onKeyPress","input","newValue","layout","default","Cube","src","alt","width","marginRight","alignItems","marginTop","letter","UserNickname","marginBottom","cubeOne","cubeTwo","cubeThree","UserRegistration","setUsername","Router","path","HOME","element","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.01daa1cd.chunk.js","sourcesContent":["interface IConfig {\r\n  features: {\r\n    logging: 'trace' | 'debug' | 'info' | 'warn' | 'error';\r\n  };\r\n  firebase: {\r\n    apiKey: string;\r\n    appId: string;\r\n    authDomain: string;\r\n    databaseURL: string;\r\n    measurementId: string;\r\n    messagingSenderId: string;\r\n    projectId: string;\r\n    storageBucket: string;\r\n  };\r\n}\r\n\r\nexport class Config {\r\n  static config: IConfig = {\r\n    features: {\r\n      logging: 'trace',\r\n    },\r\n    firebase: {\r\n      apiKey: 'AIzaSyDGMJscARK_Wkq2CGhy7wgu0BOd-51VXwo',\r\n      appId: '1:1015382247649:web:21b4626b518b85223d8fa0',\r\n      authDomain: 'javazone-and-ndc-2021.firebaseapp.com',\r\n      databaseURL:\r\n        'https://javazone-and-ndc-2021-default-rtdb.europe-west1.firebasedatabase.app',\r\n      measurementId: 'G-Q4GS8NXN28',\r\n      messagingSenderId: '1015382247649',\r\n      projectId: 'javazone-and-ndc-2021',\r\n      storageBucket: 'javazone-and-ndc-2021.appspot.com',\r\n    },\r\n  };\r\n\r\n  static getConfig() {\r\n    return Config.config;\r\n  }\r\n\r\n  static getFirebaseConfig() {\r\n    return Config.getConfig().firebase;\r\n  }\r\n\r\n  static getFeatures() {\r\n    return Config.getConfig().features;\r\n  }\r\n}\r\n","import { EffectCallback, useEffect } from 'react';\r\n\r\nexport function useMount(f: EffectCallback) {\r\n  // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  useEffect(f, []);\r\n}\r\n","import { PropsWithChildren, useState } from 'react';\r\n\r\nimport { useMount } from '../hooks/useMount';\r\n\r\ninterface Props {\r\n  readonly init: () => Promise<void>;\r\n}\r\n\r\nexport function Loader(props: PropsWithChildren<Props>): JSX.Element {\r\n  const { init, children } = props;\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useMount(() => {\r\n    init().then(() => setLoading(() => false));\r\n  });\r\n\r\n  if (loading) {\r\n    return <h1>Loading...</h1>;\r\n  }\r\n\r\n  return <>{children}</>;\r\n}\r\n","import { Analytics, getAnalytics } from \"firebase/analytics\";\r\nimport { Auth, getAuth } from \"firebase/auth\";\r\nimport { Database, get, ref } from \"firebase/database\";\r\nimport { FirebaseApp, initializeApp } from \"firebase/app\";\r\nimport { PropsWithChildren, createContext, useContext, useState } from \"react\";\r\nimport { getDatabase, set } from \"firebase/database\";\r\n\r\nimport { Config } from \"../config/Config\";\r\nimport { Loader } from \"../../components/Loader\";\r\n\r\ninterface FirebaseContext {\r\n  app: FirebaseApp;\r\n  analytics: Analytics;\r\n  auth: Auth;\r\n  db: Database;\r\n}\r\n\r\nconst firebaseContext = createContext<FirebaseContext | null>(null);\r\n\r\nexport function FirebaseProvider({ children }: PropsWithChildren<{}>) {\r\n  const [app] = useState(initializeApp(Config.getFirebaseConfig()));\r\n  const [analytics] = useState(getAnalytics(app));\r\n  const [db] = useState(getDatabase(app));\r\n  const [auth] = useState(getAuth(app));\r\n\r\n  async function init() {\r\n    const snapshot = await get(ref(db, \"/leaderboard\"));\r\n    const data = await snapshot.val();\r\n\r\n    const date = new Date();\r\n    const today = `${date.getFullYear()}-${date.getMonth()}-${date.getDate()}`;\r\n\r\n    if (data === null || data[today] === undefined) {\r\n      try {\r\n        await set(ref(db, `leaderboard/${today}`), {\r\n          createdAt: Date.now(),\r\n        });\r\n      } catch (err) {\r\n        console.error(err);\r\n      }\r\n    }\r\n  }\r\n\r\n  return (\r\n    <firebaseContext.Provider\r\n      value={{\r\n        app,\r\n        analytics,\r\n        db,\r\n        auth,\r\n      }}\r\n    >\r\n      <Loader init={init}>{children}</Loader>\r\n    </firebaseContext.Provider>\r\n  );\r\n}\r\n\r\nexport function useFirebase() {\r\n  const context = useContext(firebaseContext);\r\n\r\n  if (context === null) {\r\n    throw new Error(\"Element must be wrapped by a FirebaseProvider\");\r\n  }\r\n\r\n  return context;\r\n}\r\n","import { logEvent } from 'firebase/analytics';\r\nimport { useEffect } from 'react';\r\nimport { useFirebase } from '../features/firebase/FirebaseProvider';\r\nimport { useLocation } from 'react-router';\r\n\r\nexport function RouteListener(): null {\r\n  const { analytics } = useFirebase();\r\n  const location = useLocation();\r\n\r\n  useEffect(() => {\r\n    logEvent(analytics, 'page_view', {\r\n      page_path: location.pathname,\r\n    });\r\n  }, [location.pathname, analytics]);\r\n\r\n  return null;\r\n}\r\n","import { motion, MotionProps } from 'framer-motion';\r\nimport { PropsWithChildren } from 'react';\r\n\r\ninterface Props extends MotionProps {\r\n  readonly duration: number;\r\n  readonly delay: number;\r\n  readonly number: number;\r\n  readonly className: string;\r\n}\r\n\r\nexport function Count(props: PropsWithChildren<Props>) {\r\n  const { duration, delay, number, ...rest } = props;\r\n\r\n  return (\r\n    <motion.div\r\n      {...rest}\r\n      transition={{ duration, delay }}\r\n      initial={{ translateX: '100vw' }}\r\n      animate={{ translateX: '0vw' }}\r\n      exit={{ translateX: '-100vw' }}\r\n      style={{\r\n        zIndex: -number,\r\n      }}\r\n    >\r\n      <h1 style={{ fontSize: '10rem' }}>{number}</h1>\r\n    </motion.div>\r\n  );\r\n}\r\n","import { AnimatePresence } from \"framer-motion\";\r\nimport { Count } from \"./Count\";\r\n\r\nconst DURATION = 0.5;\r\nconst DELAY = 1;\r\n\r\nexport function Countdown() {\r\n  return (\r\n    <AnimatePresence>\r\n      <Count\r\n        key=\"count-3\"\r\n        delay={0}\r\n        duration={DURATION}\r\n        number={3}\r\n        className=\"bg-gold color-lobster fill-screen center-content absolute\"\r\n      />\r\n      <Count\r\n        key=\"count-2\"\r\n        delay={DELAY}\r\n        duration={DURATION}\r\n        number={2}\r\n        className=\"bg-jade color-sea fill-screen center-content absolute\"\r\n      />\r\n      <Count\r\n        key=\"count-1\"\r\n        delay={DELAY * 2}\r\n        duration={DURATION}\r\n        number={1}\r\n        className=\"bg-fuschia color-gold fill-screen center-content absolute\"\r\n      />\r\n    </AnimatePresence>\r\n  );\r\n}\r\n","import { useLocation, useNavigate } from \"react-router\";\r\nimport { Countdown as InternalCountdown } from \"../../features/game-screen/countdown/Countdown\";\r\nimport { useMount } from \"../../hooks/useMount\";\r\nimport { Path } from \"../../routes\";\r\n\r\nexport function Countdown() {\r\n  const location = useLocation();\r\n  const navigate = useNavigate();\r\n\r\n  useMount(() => {\r\n    const timer = setTimeout(() => {\r\n      navigate(Path.GAME, {\r\n        replace: true,\r\n        state: {\r\n          username: location.state,\r\n        },\r\n      });\r\n    }, 3000);\r\n\r\n    return () => {\r\n      clearTimeout(timer);\r\n    };\r\n  });\r\n\r\n  return <InternalCountdown />;\r\n}\r\n","export interface User {\r\n  email: string;\r\n  username: string;\r\n  createAt: number;\r\n  uid: string;\r\n}\r\n\r\nexport interface Entry {\r\n  username: string;\r\n  start: number;\r\n  finish: number;\r\n  elapsed: number;\r\n\r\n  name: string;\r\n  email: string;\r\n  phone: string;\r\n  consent: boolean;\r\n}\r\n\r\nexport enum DatabasePath {\r\n  LEADERBOARD = \"/leaderboard\",\r\n  ENTRY = \"/entries\",\r\n  USERS = \"/users\",\r\n  UNREGISTERED = \"/unregistered\",\r\n}\r\n\r\nexport interface Leaderboard {\r\n  entries?: Record<string, Entry>;\r\n  createdAt: number;\r\n}\r\nexport interface DatabaseSchema {\r\n  users: Record<string, User>;\r\n  leaderboard: Record<string, Leaderboard>;\r\n}\r\n","function pad(value: number, length: number): string {\r\n  return value.toString().padStart(length, '000');\r\n}\r\n\r\nexport function toTimeString(start: number, finish: number): string {\r\n  const elapsed = finish - start;\r\n  const time = new Date(elapsed);\r\n\r\n  const minutes = pad(time.getMinutes(), 2);\r\n  const seconds = pad(time.getSeconds(), 2);\r\n  const milliseconds = pad(time.getMilliseconds(), 3).slice(0, 2);\r\n\r\n  return `${minutes}:${seconds}:${milliseconds}`;\r\n}\r\n","import { ref } from 'firebase/database';\r\n\r\nimport { DatabasePath } from '../domain';\r\nimport { useFirebase } from '../features/firebase/FirebaseProvider';\r\nimport { useState } from 'react';\r\n\r\nexport function useDatabase() {\r\n  const { db } = useFirebase();\r\n  const [today] = useState(() => {\r\n    const date = new Date();\r\n    return `${date.getFullYear()}-${date.getMonth()}-${date.getDate()}`;\r\n  });\r\n\r\n  return {\r\n    root: db,\r\n    leaderboard: ref(db, DatabasePath.LEADERBOARD),\r\n    daily: ref(\r\n      db,\r\n      `${DatabasePath.LEADERBOARD}/${today}/${DatabasePath.ENTRY}`\r\n    ),\r\n    users: ref(db, DatabasePath.USERS),\r\n    unregistered: ref(db, `${DatabasePath.UNREGISTERED}/${today}/${DatabasePath.ENTRY}`),\r\n  };\r\n}\r\n","import { Config } from '../config/Config';\r\n\r\nexport class Logger {\r\n  private name: string;\r\n  private level: number;\r\n\r\n  constructor(name: string) {\r\n    this.name = name;\r\n    const logLevel = Config.getFeatures().logging;\r\n    this.level = ['trace', 'debug', 'info', 'warn', 'error'].indexOf(logLevel);\r\n  }\r\n\r\n  trace(...message: Array<any>) {\r\n    if (this.level === 0) {\r\n      console.trace(`[${this.name}]`, ...message);\r\n    }\r\n  }\r\n\r\n  debug(...message: Array<any>) {\r\n    if (this.level <= 1) {\r\n      console.debug(`[${this.name}]`, ...message);\r\n    }\r\n  }\r\n\r\n  info(...message: Array<any>) {\r\n    if (this.level <= 2) {\r\n      console.info(`[${this.name}]`, ...message);\r\n    }\r\n  }\r\n\r\n  warn(...message: Array<any>) {\r\n    if (this.level <= 3) {\r\n      console.warn(`[${this.name}]`, ...message);\r\n    }\r\n  }\r\n\r\n  error(...message: Array<any>) {\r\n    if (this.level <= 4) {\r\n      console.error(`[${this.name}]`, ...message);\r\n    }\r\n  }\r\n}\r\n","import { Entry } from \"../domain\";\r\nimport { onValue } from \"firebase/database\";\r\nimport { useDatabase } from \"./useDatabase\";\r\nimport { useMount } from \"./useMount\";\r\nimport { useState } from \"react\";\r\nimport { Logger } from \"../features/logging/logger\";\r\n\r\nexport function useLeaderboard(): Array<Entry> {\r\n  const [logger] = useState(new Logger(\"useLeaderboard\"));\r\n  const { daily } = useDatabase();\r\n  const [leaderboard, setLeaderboard] = useState<Array<Entry>>([]);\r\n\r\n  function updateStandings(entries: Array<Entry>) {\r\n    logger.trace(\"Updating leaderboard\");\r\n\r\n    const finished = entries.filter((entry) =>\r\n      entry.hasOwnProperty(\"finish\")\r\n    ) as Array<Required<Entry>>;\r\n\r\n    logger.debug(\"Found\", `[finished=${finished.length}]`, \"finished entries\");\r\n    setLeaderboard(() => finished.sort((a, b) => a.elapsed - b.elapsed));\r\n  }\r\n\r\n  function attachObserver() {\r\n    logger.trace(\r\n      \"Attaching listener to leaderboard document\",\r\n      daily.toString()\r\n    );\r\n    onValue(daily, (snapshot) => {\r\n      if (!snapshot.exists()) {\r\n        logger.warn(\"Found no data on\", `[src=${daily.toString()}]`);\r\n        return;\r\n      }\r\n\r\n      const data = snapshot.val() as Record<string, Entry>;\r\n      const entries = Object.values(data);\r\n      updateStandings(entries);\r\n    });\r\n  }\r\n\r\n  useMount(() => {\r\n    attachObserver();\r\n  });\r\n\r\n  return leaderboard;\r\n}\r\n","import { Entry } from '../../../domain';\r\nimport { toTimeString } from '../../../utils/toTimeString';\r\nimport { useLeaderboard } from '../../../hooks/useLeaderboard';\r\n\r\ninterface Props {\r\n  readonly entry: Entry;\r\n}\r\n\r\ninterface HighlightedEntry extends Entry {\r\n  highlight?: boolean;\r\n}\r\n\r\nexport function Highscore(props: Props): JSX.Element {\r\n  const { entry } = props;\r\n  const leaderboard = useLeaderboard();\r\n\r\n  const withRecentRun: Array<HighlightedEntry> = [\r\n    ...leaderboard.filter((value) => value.start !== entry.start),\r\n    { ...entry, highlight: true },\r\n  ].sort((a, b) => a.elapsed - b.elapsed);\r\n  const fastest = withRecentRun[0];\r\n\r\n  return (\r\n    <div\r\n      className=\"font-family-neue-machina\"\r\n      style={{ fontWeight: 700, fontSize: '3rem', lineHeight: '4rem' }}\r\n    >\r\n      <table>\r\n        <tbody>\r\n          <tr data-highlight={fastest.highlight}>\r\n            <td>1.</td>\r\n            <td>{fastest.username}</td>\r\n            <td>{toTimeString(fastest.start, fastest.finish)}</td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n      <table id=\"scrollable-table\">\r\n        <tbody\r\n          style={{\r\n            display: 'block',\r\n            overflow: 'scroll',\r\n            maxHeight: '17rem',\r\n            scrollbarWidth: 'none',\r\n          }}\r\n        >\r\n          {withRecentRun.slice(1).map((entry, index) => (\r\n            <tr key={entry.start} data-highlight={entry.highlight}>\r\n              <td>{index + 2}.</td>\r\n              <td>{entry.username}</td>\r\n              <td>{toTimeString(entry.start, entry.finish)}</td>\r\n            </tr>\r\n          ))}\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n}\r\n","import { Entry } from '../../../domain';\r\nimport { Highscore } from './Highscore';\r\nimport { Link } from 'react-router-dom';\r\nimport { Path } from '../../../routes';\r\nimport { motion } from 'framer-motion';\r\nimport { toTimeString } from '../../../utils/toTimeString';\r\nimport { useLocation } from 'react-router';\r\n\r\nexport function Completed() {\r\n  const location = useLocation();\r\n  const run = location.state as Entry;\r\n  const elapsed = toTimeString(run.start, run.finish);\r\n  const [minutes, seconds, milliseconds] = elapsed.split(':');\r\n\r\n  return (\r\n    <div className=\"bg-ivory fill-screen\">\r\n      <motion.section\r\n        className=\"color-sea center-content\"\r\n        style={{ height: '100vh' }}\r\n        animate={{ height: '40vh' }}\r\n        transition={{ duration: 2, delay: 3 }}\r\n      >\r\n        <p className=\"font-family-neue-machina\" style={{ fontWeight: 'bold' }}>\r\n          <span style={{ fontSize: 160 }}>{minutes}</span>\r\n          <span style={{ fontSize: 160 }}>:{seconds}</span>\r\n          <span style={{ fontSize: 96 }}>:{milliseconds}</span>\r\n        </p>\r\n      </motion.section>\r\n      <motion.section\r\n        style={{ height: '0vh' }}\r\n        animate={{ height: '60vh' }}\r\n        transition={{ duration: 2, delay: 3 }}\r\n      >\r\n        <div className=\"row equal-width\" style={{ padding: '2rem 3rem' }}>\r\n          <Highscore entry={run} />\r\n          <div>\r\n            <p>Register on the iPad to enter the draft to win a Sonos One!</p>\r\n            <Link className=\"button\" to={Path.EXPLANATION} replace>\r\n              Next Player\r\n            </Link>\r\n          </div>\r\n        </div>\r\n      </motion.section>\r\n    </div>\r\n  );\r\n}\r\n","import { Completed } from \"../../features/game-screen/completed\";\r\n\r\nexport function Finish() {\r\n  return <Completed />;\r\n}\r\n","import { useEffect, useState } from 'react';\r\n\r\nimport { toTimeString } from '../utils/toTimeString';\r\n\r\ninterface Props {\r\n  start: number | null;\r\n  column?: boolean;\r\n}\r\n\r\nexport function TimeDisplay(props: Props): JSX.Element | null {\r\n  const { start, column = false } = props;\r\n  const [, setTick] = useState(0);\r\n\r\n  useEffect(() => {\r\n    if (start === null) {\r\n      return;\r\n    }\r\n\r\n    const interval = setInterval(() => {\r\n      setTick((prev) => prev + 1);\r\n    }, 50);\r\n\r\n    return () => {\r\n      clearInterval(interval);\r\n    };\r\n  }, [start, setTick]);\r\n\r\n  if (start === null) {\r\n    return null;\r\n  }\r\n\r\n  const time = toTimeString(start, Date.now());\r\n\r\n  const [minutes, seconds, milliseconds] = time.split(':');\r\n\r\n  return (\r\n    <p\r\n      className={`center font-family-neue-machina ${column ? 'column' : 'row'}`}\r\n      style={{ fontSize: '8rem' }}\r\n    >\r\n      <span>{minutes}:</span>\r\n      <span>{seconds}:</span>\r\n      <span>{milliseconds}</span>\r\n    </p>\r\n  );\r\n}\r\n","import { useLocation, useNavigate } from 'react-router';\r\n\r\nimport { Path } from '../../../routes';\r\nimport { TimeDisplay } from '../../../components/TimeDisplay';\r\nimport { toTimeString } from '../../../utils/toTimeString';\r\nimport { useLeaderboard } from '../../../hooks/useLeaderboard';\r\nimport { useMount } from '../../../hooks/useMount';\r\nimport { useState } from 'react';\r\nimport { useTimer } from '../../../hooks/useTimer';\r\n\r\nexport function Ongoing() {\r\n  const location = useLocation();\r\n  const navigate = useNavigate();\r\n  const leaderboard = useLeaderboard();\r\n  const { start: startTimer, stop } = useTimer();\r\n  const [start] = useState(Date.now());\r\n\r\n  const fastest = leaderboard[0];\r\n  const username = location.state.username;\r\n\r\n  console.log(username);\r\n\r\n  useMount(() => {\r\n    startTimer(username, start);\r\n  });\r\n\r\n  function finished() {\r\n    const now = Date.now();\r\n    stop(now).then((elapsed: number) => {\r\n      navigate(Path.FINISH, {\r\n        replace: true,\r\n        state: {\r\n          username: username,\r\n          start: start,\r\n          finish: now,\r\n          elapsed: elapsed,\r\n        },\r\n      });\r\n    });\r\n  }\r\n\r\n  return (\r\n    <div className=\"row\">\r\n      <div className=\"fill-vh\" style={{ flexGrow: 6 }}></div>\r\n      <div\r\n        className=\"column center-content space-around bg-ivory fill-vh\"\r\n        style={{ flexGrow: 1 }}\r\n      >\r\n        <section className=\"center font-family-neue-machina\">\r\n          <h2>Highscore</h2>\r\n          {fastest && <p>{toTimeString(fastest.start, fastest.finish)}</p>}\r\n          {!fastest && <p>Pending...</p>}\r\n        </section>\r\n        <TimeDisplay start={start} column />\r\n        <button onClick={finished}>Done</button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import { Entry /* , User */ } from \"../domain\";\r\nimport { child, get, push, update } from \"firebase/database\";\r\n\r\nimport { useDatabase } from \"./useDatabase\";\r\nimport { useState } from \"react\";\r\nimport { Logger } from \"../features/logging/logger\";\r\n\r\nexport function useTimer() {\r\n  const [logger] = useState(new Logger(\"useTimer\"));\r\n  const { daily, unregistered } = useDatabase();\r\n  const [key, setKey] = useState<string | null>(null);\r\n\r\n  async function start(username: string, startTime: number): Promise<number> {\r\n    logger.trace(\"Starting new timer for user\", username);\r\n    const generatedKey = push(daily).key;\r\n\r\n    if (generatedKey === null) {\r\n      logger.error(\"Failed to generate new key\");\r\n      throw new Error(\"Failed to generate new key\");\r\n    }\r\n\r\n    await update(unregistered, {\r\n      [generatedKey]: {\r\n        username,\r\n        start: startTime,\r\n      },\r\n    });\r\n\r\n    setKey(() => generatedKey);\r\n    logger.info(\r\n      \"Successfully created new entry\",\r\n      `[key=${generatedKey}]`,\r\n      `[time=${startTime}]`\r\n    );\r\n    return startTime;\r\n  }\r\n\r\n  async function stop(stopTime: number): Promise<number> {\r\n    logger.trace(\"Stopping timer for\", key);\r\n    if (key === null) {\r\n      logger.error(\"Stop was invoked without any ongoing runs\", `[key=${key}]`);\r\n      throw new Error(\"Stop was invoked without any ongoing runs\");\r\n    }\r\n\r\n    const ref = child(unregistered, `${key}`);\r\n    const entry = await get(ref);\r\n\r\n    if (!entry.exists()) {\r\n      logger.error(\r\n        \"Unable to find time entry\",\r\n        `[key=${key}]`,\r\n        `[src=${ref.toString()}]`\r\n      );\r\n      setKey(() => null);\r\n      throw new Error(\"Unable to find time entry\");\r\n    }\r\n\r\n    const data = entry.val() as Entry;\r\n\r\n    await update(ref, {\r\n      ...data,\r\n      elapsed: stopTime - data.start,\r\n      finish: stopTime,\r\n    });\r\n\r\n    setKey(() => null);\r\n    logger.info(\r\n      \"Successfully stopped time for entry\",\r\n      `[key=${key}]`,\r\n      `[finish=${stopTime}]`,\r\n      `[elapsed=${stopTime - data.start}]`\r\n    );\r\n    return stopTime - data.start;\r\n  }\r\n\r\n  return {\r\n    start,\r\n    stop,\r\n  };\r\n}\r\n","import { Ongoing } from '../../features/game-screen/ongoing';\r\n\r\nexport function Game() {\r\n  return <Ongoing />;\r\n}\r\n","import { Link } from 'react-router-dom';\r\nimport { Path } from '../routes';\r\n\r\nexport function Home() {\r\n  return (\r\n    <>\r\n      <h1>Navigation links</h1>\r\n      <Link to={Path.EXPLANATION}>Game</Link>\r\n      <Link to={Path.UNREGISTERED}>Registration</Link>\r\n      <Link to={Path.LOGIN}>Sign In</Link>\r\n    </>\r\n  );\r\n}\r\n","import { Link } from 'react-router-dom';\r\nimport { Path } from '../routes';\r\n\r\nexport function Profile() {\r\n  return (\r\n    <div style={{ padding: '2rem 3rem' }}>\r\n      <h1\r\n        style={{\r\n          fontSize: '5.25rem',\r\n          lineHeight: '5rem',\r\n          color: 'rgb(0, 41, 255)',\r\n        }}\r\n      >\r\n        Your score is registered!\r\n      </h1>\r\n      <p\r\n        style={{\r\n          fontSize: '1.75rem',\r\n          lineHeight: '3rem',\r\n        }}\r\n      >\r\n        We will contact the winner after the conference.\r\n      </p>\r\n      <Link to={Path.UNREGISTERED} className=\"button\">\r\n        Back to the list\r\n      </Link>\r\n    </div>\r\n  );\r\n}\r\n","import { useCallback, useState } from 'react';\r\nimport { Logger } from '../features/logging/logger';\r\n\r\nexport function useAsync(f: (...args: any[]) => Promise<unknown>) {\r\n  const [logger] = useState(new Logger('useAsync'));\r\n  const [loading, setLoading] = useState(false);\r\n  const [result, setResult] = useState<unknown | null>(null);\r\n  const [error, setError] = useState<unknown | null>(null);\r\n\r\n  const callback = useCallback(\r\n    (...args: any[]): Promise<unknown> => {\r\n      logger.trace('Async callback invoked');\r\n      setLoading(() => true);\r\n      setError(() => null);\r\n\r\n      return f(...args)\r\n        .then((res) => {\r\n          logger.debug('Successfully invoked async callback');\r\n          setResult(res);\r\n        })\r\n        .catch((err) => {\r\n          logger.error(\r\n            'Encountered an error while executing async callback',\r\n            err\r\n          );\r\n          setError(err);\r\n        })\r\n        .finally(() => {\r\n          logger.debug('Setting loading flag to \"false\"');\r\n          setLoading(() => false);\r\n        });\r\n    },\r\n    [f, logger]\r\n  );\r\n\r\n  return {\r\n    callback,\r\n    loading,\r\n    error,\r\n    result,\r\n  };\r\n}\r\n","import { DatabaseReference, child, update, remove } from \"@firebase/database\";\r\nimport {\r\n  User,\r\n  //UserCredential,\r\n  //signInAnonymously,\r\n  signInWithEmailAndPassword,\r\n} from \"firebase/auth\";\r\n\r\n//import { Auth } from 'firebase/auth';\r\nimport { useDatabase } from \"./useDatabase\";\r\nimport { useFirebase } from \"../features/firebase/FirebaseProvider\";\r\nimport { Logger } from \"../features/logging/logger\";\r\nimport { useState } from \"react\";\r\n\r\n/* async function createUser(auth: Auth, logger: Logger): Promise<UserCredential> {\r\n  logger.trace('Creating a new user');\r\n  const credentials = await signInAnonymously(auth);\r\n  return credentials;\r\n} */\r\n\r\nasync function addUserToCollection(\r\n  db: DatabaseReference,\r\n  email: string,\r\n  name: string,\r\n  phone: string,\r\n  consent: boolean,\r\n  username: string,\r\n  logger: Logger\r\n): Promise<void> {\r\n  logger.trace(\"Creating a document entry for user\", `[uid=${phone}]`);\r\n  const documentRef = child(db, `/${phone}`);\r\n  await update(documentRef, {\r\n    email,\r\n    name,\r\n    phone,\r\n    consent,\r\n    username,\r\n    createdAt: Date.now(),\r\n  });\r\n}\r\n\r\nasync function removeFromUnregistered(\r\n  db: DatabaseReference,\r\n  entry: string,\r\n  logger: Logger\r\n): Promise<void> {\r\n  logger.trace(\"Removing from Unregistered\", `[entry=${entry}]`);\r\n  const documentRef = child(db, `/${entry}`);\r\n  await remove(documentRef);\r\n}\r\n\r\nexport function useAuth() {\r\n  const [logger] = useState(new Logger(\"useAuth\"));\r\n  const { users, unregistered } = useDatabase();\r\n  const { auth } = useFirebase();\r\n\r\n  async function addUser(\r\n    name: string,\r\n    phone: string,\r\n    email: string,\r\n    consent: boolean,\r\n    entry: string,\r\n    username: string\r\n  ): Promise<null | User> {\r\n    logger.trace(\"Adding new user\");\r\n    await addUserToCollection(\r\n      users,\r\n      email,\r\n      name,\r\n      phone,\r\n      consent,\r\n      username,\r\n      logger\r\n    );\r\n\r\n    logger.info(\"Successfully created new user\", `[uid=${phone}]`);\r\n\r\n    await removeFromUnregistered(unregistered, entry, logger);\r\n    logger.info(\r\n      \"Successfully removed user from unregistered\",\r\n      `[uid=${entry}]`\r\n    );\r\n\r\n    return null;\r\n  }\r\n\r\n  async function signIn(email: string, password: string): Promise<User> {\r\n    logger.trace(\"Signing in user\");\r\n    const credentials = await signInWithEmailAndPassword(auth, email, password);\r\n\r\n    logger.info(\"Signed in user\", `[uid=${credentials.user.uid}]`);\r\n    return credentials.user;\r\n  }\r\n\r\n  return {\r\n    addUser,\r\n    signIn,\r\n  };\r\n}\r\n","import { FormEvent, useEffect, useState } from 'react';\r\n\r\nimport { FirebaseError } from '@firebase/util';\r\nimport { Path } from '../../routes';\r\nimport { useAsync } from '../../hooks/useAsync';\r\nimport { useAuth } from '../../hooks/useAuth';\r\nimport { useNavigate } from 'react-router';\r\n\r\nexport function SignIn() {\r\n  const navigate = useNavigate();\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n\r\n  const { signIn } = useAuth();\r\n  const { callback, loading, error, result } = useAsync(signIn);\r\n\r\n  function submitHandler(event: FormEvent) {\r\n    event.preventDefault();\r\n    callback(email, password);\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (result !== null) {\r\n      navigate(Path.USER, { replace: true });\r\n    }\r\n  }, [navigate, result]);\r\n\r\n  return (\r\n    <>\r\n      <h1>Login</h1>\r\n      <form onSubmit={submitHandler}>\r\n        <input\r\n          type=\"email\"\r\n          placeholder=\"email\"\r\n          value={email}\r\n          onChange={(event) => setEmail(event.currentTarget.value)}\r\n          required\r\n        />\r\n        <input\r\n          type=\"password\"\r\n          placeholder=\"password\"\r\n          value={password}\r\n          onChange={(event) => setPassword(event.currentTarget.value)}\r\n          required\r\n        />\r\n        <button type=\"submit\" disabled={loading}>\r\n          Sign In\r\n        </button>\r\n\r\n        {error !== null && <p>{(error as FirebaseError).code}</p>}\r\n      </form>\r\n    </>\r\n  );\r\n}\r\n","import { useLocation, useNavigate } from 'react-router';\r\n\r\nimport { FirebaseError } from '@firebase/util';\r\nimport { Path } from '../../routes';\r\nimport { UnregisteredEntry } from '../../hooks/useUnregistered';\r\nimport { push } from '@firebase/database';\r\nimport { toTimeString } from '../../utils/toTimeString';\r\nimport { useAsync } from '../../hooks/useAsync';\r\nimport { useAuth } from '../../hooks/useAuth';\r\nimport { useDatabase } from '../../hooks/useDatabase';\r\nimport { useState } from 'react';\r\n\r\nexport function SignUp() {\r\n  const navigate = useNavigate();\r\n  const [name, setName] = useState('');\r\n  const [phone, setPhone] = useState('');\r\n  const [email, setEmail] = useState('');\r\n  const [consent, setConsent] = useState(false);\r\n  const location = useLocation();\r\n  const { uid, username, start, finish, elapsed } =\r\n    location.state as UnregisteredEntry;\r\n\r\n  const { addUser } = useAuth();\r\n  const { daily } = useDatabase();\r\n  const { callback, loading, error } = useAsync(addUser);\r\n\r\n  function submitHandler(event: React.FormEvent<HTMLFormElement>) {\r\n    event.preventDefault();\r\n    callback(name, phone, email, consent, uid, username).then(() => {\r\n      push(daily, {\r\n        start,\r\n        finish,\r\n        elapsed,\r\n        name,\r\n        username,\r\n        phone,\r\n        email,\r\n        consent,\r\n      }).then(() => {\r\n        navigate(Path.USER, { replace: true });\r\n      });\r\n    });\r\n  }\r\n\r\n  const [minutes, seconds, milliseconds] = toTimeString(start, finish).split(\r\n    ':'\r\n  );\r\n\r\n  return (\r\n    <div style={{ padding: '2rem 3rem' }}>\r\n      <h1\r\n        className=\"inset-dot\"\r\n        style={{\r\n          display: 'flex',\r\n          justifyContent: 'space-between',\r\n          color: '#000',\r\n        }}\r\n      >\r\n        <span>{username}</span>\r\n        <span>\r\n          <span>{minutes}:</span>\r\n          <span>{seconds}:</span>\r\n          <span style={{ fontSize: '2rem' }}>{milliseconds}</span>\r\n        </span>\r\n      </h1>\r\n      <form onSubmit={submitHandler}>\r\n        <div className=\"column\">\r\n          <label htmlFor=\"name\">Name</label>\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"Your full name\"\r\n            id=\"name\"\r\n            value={name}\r\n            onChange={(event) => setName(event.currentTarget.value)}\r\n            required\r\n          />\r\n        </div>\r\n        <div className=\"column\">\r\n          <label htmlFor=\"phone\">Phone number</label>\r\n          <input\r\n            type=\"tel\"\r\n            placeholder=\"Your phone number\"\r\n            id=\"phone\"\r\n            value={phone}\r\n            onChange={(event) => setPhone(event.currentTarget.value)}\r\n            required\r\n          />\r\n        </div>\r\n        <div className=\"column\">\r\n          <label htmlFor=\"email\">Email</label>\r\n          <input\r\n            id=\"email\"\r\n            type=\"email\"\r\n            placeholder=\"Your e-mail\"\r\n            value={email}\r\n            onChange={(event) => setEmail(event.target.value)}\r\n            required\r\n          />\r\n        </div>\r\n        <div>\r\n          <input\r\n            type=\"checkbox\"\r\n            id=\"consent\"\r\n            checked={consent}\r\n            onChange={(event) => setConsent(event.currentTarget.checked)}\r\n          />\r\n          <label htmlFor=\"consent\">\r\n            I wish to keep in contact with Itera through email\r\n          </label>\r\n        </div>\r\n        <button type=\"submit\" disabled={loading}>\r\n          Register my score\r\n        </button>\r\n        {error !== null && <p>{(error as FirebaseError).code}</p>}\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n","import { Entry } from \"../domain\";\r\nimport { onValue } from \"firebase/database\";\r\nimport { useDatabase } from \"./useDatabase\";\r\nimport { useMount } from \"./useMount\";\r\nimport { useState } from \"react\";\r\nimport { Logger } from \"../features/logging/logger\";\r\n\r\nexport interface UnregisteredEntry extends Entry {\r\n  uid: string;\r\n}\r\n\r\nexport function useUnregistered() {\r\n  const [logger] = useState(new Logger(\"useUnregistered\"));\r\n  const { unregistered } = useDatabase();\r\n  const [unregisteredList, setUnregisteredList] = useState<\r\n    Array<UnregisteredEntry>\r\n  >([]);\r\n  const [ongoing, setOngoing] = useState<Array<UnregisteredEntry>>([]);\r\n\r\n  function attachObserver() {\r\n    logger.trace(\r\n      \"Attaching listener to unregistered document\",\r\n      unregistered.toString()\r\n    );\r\n    onValue(unregistered, (snapshot) => {\r\n      if (!snapshot.exists()) {\r\n        logger.warn(\"Found no data on\", `[src=${unregistered.toString()}]`);\r\n        return;\r\n      }\r\n\r\n      const data = snapshot.val();\r\n      const entries = Object.entries(data).map(\r\n        ([key, entry]): UnregisteredEntry => ({\r\n          uid: key,\r\n          ...(entry as Entry),\r\n        })\r\n      );\r\n\r\n      const ongoing = entries.filter((entry) => entry.finish === undefined);\r\n      const finished = entries.filter((entry) => entry.finish !== undefined);\r\n\r\n      logger.info(\r\n        \"found\",\r\n        `[ongoing=${ongoing.length}]`,\r\n        \"and\",\r\n        `[finished=${finished.length}]`\r\n      );\r\n\r\n      setUnregisteredList(() => finished);\r\n      setOngoing(() => ongoing);\r\n    });\r\n  }\r\n\r\n  useMount(() => {\r\n    attachObserver();\r\n  });\r\n\r\n  return {\r\n    unregistered: unregisteredList,\r\n    ongoing,\r\n  };\r\n}\r\n","import { AnimatePresence, motion } from 'framer-motion';\r\n\r\nimport { Link } from 'react-router-dom';\r\nimport { Path } from '../../routes';\r\nimport { toTimeString } from '../../utils/toTimeString';\r\nimport { useMount } from '../../hooks/useMount';\r\nimport { useState } from 'react';\r\nimport { useUnregistered } from '../../hooks/useUnregistered';\r\n\r\nfunction Timer(props: { start: number }) {\r\n  const [, setTick] = useState(0);\r\n\r\n  useMount(() => {\r\n    const timer = setInterval(() => {\r\n      setTick((prev) => prev + 1);\r\n    }, 100);\r\n\r\n    return () => {\r\n      clearInterval(timer);\r\n    };\r\n  });\r\n\r\n  const [minutes, seconds, milliseconds] = toTimeString(\r\n    props.start,\r\n    Date.now()\r\n  ).split(':');\r\n\r\n  return (\r\n    <p className=\"column font-family-neue-machina center-content\">\r\n      <span>{minutes}:</span>\r\n      <span>{seconds}:</span>\r\n      <span>{milliseconds}</span>\r\n    </p>\r\n  );\r\n}\r\n\r\nexport function Unregistered() {\r\n  const { unregistered, ongoing } = useUnregistered();\r\n\r\n  return (\r\n    <div style={{ padding: '2rem 3rem' }}>\r\n      <h1\r\n        style={{\r\n          fontSize: '5.25rem',\r\n          lineHeight: '5rem',\r\n          color: 'rgb(0, 41, 255)',\r\n        }}\r\n      >\r\n        Register your score!\r\n      </h1>\r\n      <p\r\n        style={{\r\n          fontSize: '1.75rem',\r\n          lineHeight: '3rem',\r\n        }}\r\n      >\r\n        Select your username to register a chance to win a Sonos One!\r\n      </p>\r\n      <ul>\r\n        {unregistered\r\n          .sort((a, b) => b.start - a.start)\r\n          .map((entry) => (\r\n            <li key={entry.uid}>\r\n              <Link\r\n                to={Path.REGISTRATION}\r\n                state={entry}\r\n                style={{ color: 'rgb(0, 41, 255)', textDecoration: 'none' }}\r\n              >\r\n                {entry.username}\r\n              </Link>\r\n            </li>\r\n          ))}\r\n      </ul>\r\n\r\n      <AnimatePresence>\r\n        {ongoing.length > 0 && (\r\n          <motion.div\r\n            style={{\r\n              display: 'inline-block',\r\n              position: 'fixed',\r\n              top: 0,\r\n              right: 0,\r\n              color: '#fff',\r\n              backgroundColor: 'rgb(0, 41, 255)',\r\n              padding: '0.5rem 1rem',\r\n              fontSize: '1.75rem',\r\n              minWidth: 90,\r\n            }}\r\n            initial={{\r\n              right: -200,\r\n            }}\r\n            animate={{\r\n              right: 0,\r\n            }}\r\n            exit={{ right: -200 }}\r\n            transition={{ duration: 0.3 }}\r\n          >\r\n            <Timer start={ongoing[0].start} />\r\n          </motion.div>\r\n        )}\r\n      </AnimatePresence>\r\n    </div>\r\n  );\r\n}\r\n","import { Link } from \"react-router-dom\";\r\nimport { Path } from \"../../../routes\";\r\n\r\ninterface Props {\r\n  readonly username: string;\r\n}\r\n\r\nexport function Explanation(props: Props) {\r\n  return (\r\n    <div style={{ padding: \"4rem 2rem\", margin: \"auto 0\" }}>\r\n      <h1 style={{ fontSize: 94 }}>Build Itera with us!</h1>\r\n      <p style={{ fontSize: 55, lineHeight: 2 }}>\r\n        Use the cubes on the ground to build the image that pops up on this\r\n        screen.\r\n      </p>\r\n      <p style={{ fontSize: 55, lineHeight: 2 }}>\r\n        Touch \"DONE\" when you are finished to stop the timer\r\n      </p>\r\n\r\n      <Link\r\n        to={Path.COUNTDOWN}\r\n        className=\"button\"\r\n        state={props.username}\r\n        replace\r\n      >\r\n        → Start Game\r\n      </Link>\r\n    </div>\r\n  );\r\n}\r\n","import { useState } from \"react\";\r\nimport SimpleKeyboard from \"react-simple-keyboard\";\r\nimport \"react-simple-keyboard/build/css/index.css\";\r\n\r\ninterface Props {\r\n  onChange?: (value: string) => void;\r\n}\r\n\r\nexport function Keyboard(props: Props) {\r\n  const [value, setValue] = useState(\"\");\r\n\r\n  function onKeyPress(input: any) {\r\n    let newValue = value;\r\n\r\n    if (input === \"{bksp}\") {\r\n      newValue = newValue.slice(0, -1);\r\n    } else {\r\n      newValue = value + input;\r\n    }\r\n\r\n    newValue = newValue.slice(0, 3);\r\n\r\n    if (props.onChange) {\r\n      props.onChange(newValue);\r\n    }\r\n\r\n    setValue(() => newValue);\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <SimpleKeyboard\r\n        onKeyPress={onKeyPress}\r\n        layout={{\r\n          default: [\r\n            \"Q W E R T Y U I O P Å\",\r\n            \"A S D F G H J K L Ø Æ\",\r\n            \"Z X C V B N M {bksp}\",\r\n          ],\r\n        }}\r\n        display={{\r\n          \"{bksp}\": \"←\",\r\n        }}\r\n      />\r\n    </>\r\n  );\r\n}\r\n","interface Props {\r\n  readonly src: string;\r\n  readonly letter: string;\r\n}\r\n\r\nexport function Cube(props: Props) {\r\n  return (\r\n    <div style={{ position: 'relative' }}>\r\n      <img\r\n        src={props.src}\r\n        alt=\"\"\r\n        style={{\r\n          height: 300,\r\n          width: 300,\r\n          marginRight: -125,\r\n        }}\r\n      />\r\n      <span\r\n        style={{\r\n          display: 'flex',\r\n          alignItems: 'center',\r\n          justifyContent: 'center',\r\n          fontSize: '5rem',\r\n          marginTop: '-9rem',\r\n          marginRight: '-1rem',\r\n          textDecoration: 'underline',\r\n          zIndex: 2,\r\n        }}\r\n      >\r\n        {props.letter ? props.letter : '_'}\r\n      </span>\r\n    </div>\r\n  );\r\n}\r\n","export default __webpack_public_path__ + \"static/media/cube_yellow.46b2e9fb.png\";","import { Route, Routes } from 'react-router';\r\n\r\nimport { Countdown } from '../pages/game/Countdown';\r\nimport { Finish } from '../pages/game/Finish';\r\nimport { Game } from '../pages/game/Game';\r\nimport { Home } from '../pages';\r\nimport { Profile } from '../pages/Profile';\r\nimport { SignIn } from '../pages/auth/SignIn';\r\nimport { SignUp } from '../pages/auth/SignUp';\r\nimport { Unregistered } from '../features/firebase/Unregistered';\r\nimport { UserRegistration } from '../pages/game/UserRegistration';\r\n\r\nexport enum Path {\r\n  HOME = '/',\r\n  USER = '/profile',\r\n  UNREGISTERED = '/unregistered',\r\n\r\n  EXPLANATION = '/game/explanation',\r\n  COUNTDOWN = '/game/countdown',\r\n  GAME = '/game/timer',\r\n  FINISH = '/game/finish',\r\n\r\n  REGISTRATION = '/auth/sign-up',\r\n  LOGIN = '/auth/sign-in',\r\n}\r\n\r\nexport function Router() {\r\n  return (\r\n    <Routes>\r\n      <Route path={Path.HOME} element={<Home />} />\r\n      <Route path={Path.USER} element={<Profile />} />\r\n      <Route path={Path.UNREGISTERED} element={<Unregistered />} />\r\n\r\n      <Route path={Path.EXPLANATION} element={<UserRegistration />} />\r\n      <Route path={Path.COUNTDOWN} element={<Countdown />} />\r\n      <Route path={Path.GAME} element={<Game />} />\r\n      <Route path={Path.FINISH} element={<Finish />} />\r\n\r\n      <Route path={Path.REGISTRATION} element={<SignUp />} />\r\n      <Route path={Path.LOGIN} element={<SignIn />} />\r\n    </Routes>\r\n  );\r\n}\r\n","export default __webpack_public_path__ + \"static/media/cube_purple.28cd4681.png\";","export default __webpack_public_path__ + \"static/media/cube_red.3c42733b.png\";","import { Keyboard } from \"./Keyboard\";\r\nimport { Cube } from \"./Cube\";\r\n\r\nimport cubeOne from \"../../../statics/images/cube_yellow.png\";\r\nimport cubeTwo from \"../../../statics/images/cube_purple.png\";\r\nimport cubeThree from \"../../../statics/images/cube_red.png\";\r\n\r\ninterface Props {\r\n  readonly username: string;\r\n  readonly onChange: (value: string) => void;\r\n}\r\n\r\nexport function UserNickname(props: Props) {\r\n  const { username, onChange } = props;\r\n\r\n  return (\r\n    <div className=\"column center-content\" style={{ padding: \"4rem 2rem\" }}>\r\n      <h2>Your nickname:</h2>\r\n      <div className=\"row\" style={{ marginBottom: \"8rem\" }}>\r\n        <Cube src={cubeOne} letter={username.slice(0, 1)} />\r\n        <Cube src={cubeTwo} letter={username.slice(1, 2)} />\r\n        <Cube src={cubeThree} letter={username.slice(2, 3)} />\r\n      </div>\r\n      <Keyboard onChange={(value) => onChange(value)} />\r\n    </div>\r\n  );\r\n}\r\n","import { useState } from \"react\";\r\nimport {\r\n  Explanation,\r\n  UserNickname,\r\n} from \"../../features/game-screen/explanation\";\r\n\r\nexport function UserRegistration() {\r\n  const [username, setUsername] = useState(\"\");\r\n\r\n  return (\r\n    <div className=\"row fill-screen equal-width\">\r\n      <Explanation username={username} />\r\n      <UserNickname\r\n        username={username}\r\n        onChange={(value) => setUsername(() => value)}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n","import { RouteListener } from './routes/RouteListener';\nimport { Router } from './routes';\n\nfunction App() {\n  return (\n    <main>\n      <RouteListener />\n      <Router />\n    </main>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import App from \"./App\";\r\nimport { BrowserRouter } from \"react-router-dom\";\r\nimport { FirebaseProvider } from \"./features/firebase/FirebaseProvider\";\r\nimport React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport reportWebVitals from \"./reportWebVitals\";\r\n\r\nimport \"normalize.css\";\r\nimport \"./index.css\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <BrowserRouter>\r\n      <FirebaseProvider>\r\n        <App />\r\n      </FirebaseProvider>\r\n    </BrowserRouter>\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}